{"version":3,"file":"list.es.min.js","sources":["../node_modules/pixi-viewport/dist/viewport.es.js","../node_modules/pixi-scrollbox/dist/scrollbox.es.js","../src/index.ts"],"sourcesContent":["import * as PIXI from 'pixi.js';\nimport { Rectangle, Point, Container, VERSION } from 'pixi.js';\n\n/**\r\n * @typedef ViewportTouch\r\n * @property {number} id\r\n * @property {PIXI.Point} last\r\n*/\r\n\r\n/**\r\n * handles all input for Viewport\r\n * @private\r\n */\r\nclass InputManager\r\n{\r\n    constructor(viewport)\r\n    {\r\n        this.viewport = viewport;\r\n\r\n        /**\r\n         * list of active touches on viewport\r\n         * @type {ViewportTouch[]}\r\n         */\r\n        this.touches = [];\r\n        this.addListeners();\r\n    }\r\n\r\n    /**\r\n     * add input listeners\r\n     * @private\r\n     */\r\n    addListeners()\r\n    {\r\n        this.viewport.interactive = true;\r\n        if (!this.viewport.forceHitArea)\r\n        {\r\n            this.viewport.hitArea = new Rectangle(0, 0, this.viewport.worldWidth, this.viewport.worldHeight);\r\n        }\r\n        this.viewport.on('pointerdown', this.down, this);\r\n        this.viewport.on('pointermove', this.move, this);\r\n        this.viewport.on('pointerup', this.up, this);\r\n        this.viewport.on('pointerupoutside', this.up, this);\r\n        this.viewport.on('pointercancel', this.up, this);\r\n        this.viewport.on('pointerout', this.up, this);\r\n        this.wheelFunction = (e) => this.handleWheel(e);\r\n        this.viewport.options.divWheel.addEventListener('wheel', this.wheelFunction, { passive: this.viewport.options.passiveWheel });\r\n        this.isMouseDown = false;\r\n    }\r\n\r\n    /**\r\n     * removes all event listeners from viewport\r\n     * (useful for cleanup of wheel when removing viewport)\r\n     */\r\n    destroy()\r\n    {\r\n        this.viewport.options.divWheel.removeEventListener('wheel', this.wheelFunction);\r\n    }\r\n\r\n    /**\r\n     * handle down events for viewport\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     */\r\n    down(event)\r\n    {\r\n        if (this.viewport.pause || !this.viewport.worldVisible)\r\n        {\r\n            return\r\n        }\r\n        if (event.data.pointerType === 'mouse')\r\n        {\r\n            this.isMouseDown = true;\r\n        }\r\n        else if (!this.get(event.data.pointerId))\r\n        {\r\n            this.touches.push({ id: event.data.pointerId, last: null });\r\n        }\r\n        if (this.count() === 1)\r\n        {\r\n            this.last = event.data.global.clone();\r\n\r\n            // clicked event does not fire if viewport is decelerating or bouncing\r\n            const decelerate = this.viewport.plugins.get('decelerate');\r\n            const bounce = this.viewport.plugins.get('bounce');\r\n            if ((!decelerate || !decelerate.isActive()) && (!bounce || !bounce.isActive()))\r\n            {\r\n                this.clickedAvailable = true;\r\n            }\r\n            else\r\n            {\r\n                this.clickedAvailable = false;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.clickedAvailable = false;\r\n        }\r\n\r\n        const stop = this.viewport.plugins.down(event);\r\n        if (stop && this.viewport.options.stopPropagation)\r\n        {\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {number} change\r\n     * @returns whether change exceeds threshold\r\n     */\r\n    checkThreshold(change)\r\n    {\r\n        if (Math.abs(change) >= this.viewport.threshold)\r\n        {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    /**\r\n     * handle move events for viewport\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     */\r\n    move(event)\r\n    {\r\n        if (this.viewport.pause || !this.viewport.worldVisible)\r\n        {\r\n            return\r\n        }\r\n\r\n        const stop = this.viewport.plugins.move(event);\r\n\r\n        if (this.clickedAvailable)\r\n        {\r\n            const distX = event.data.global.x - this.last.x;\r\n            const distY = event.data.global.y - this.last.y;\r\n            if (this.checkThreshold(distX) || this.checkThreshold(distY))\r\n            {\r\n                this.clickedAvailable = false;\r\n            }\r\n        }\r\n\r\n        if (stop && this.viewport.options.stopPropagation)\r\n        {\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * handle up events for viewport\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     */\r\n    up(event)\r\n    {\r\n        if (this.viewport.pause || !this.viewport.worldVisible)\r\n        {\r\n            return\r\n        }\r\n\r\n        if (event.data.pointerType === 'mouse')\r\n        {\r\n            this.isMouseDown = false;\r\n        }\r\n\r\n        if (event.data.pointerType !== 'mouse')\r\n        {\r\n            this.remove(event.data.pointerId);\r\n        }\r\n\r\n        const stop = this.viewport.plugins.up(event);\r\n\r\n        if (this.clickedAvailable && this.count() === 0)\r\n        {\r\n            this.viewport.emit('clicked', { screen: this.last, world: this.viewport.toWorld(this.last), viewport: this });\r\n            this.clickedAvailable = false;\r\n        }\r\n\r\n        if (stop && this.viewport.options.stopPropagation)\r\n        {\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * gets pointer position if this.interaction is set\r\n     * @param {WheelEvent} event\r\n     * @return {PIXI.Point}\r\n     */\r\n    getPointerPosition(event)\r\n    {\r\n        let point = new Point();\r\n        if (this.viewport.options.interaction)\r\n        {\r\n            this.viewport.options.interaction.mapPositionToPoint(point, event.clientX, event.clientY);\r\n        }\r\n        else\r\n        {\r\n            point.x = event.clientX;\r\n            point.y = event.clientY;\r\n        }\r\n        return point\r\n    }\r\n\r\n    /**\r\n     * handle wheel events\r\n     * @param {WheelEvent} event\r\n     */\r\n    handleWheel(event)\r\n    {\r\n        if (this.viewport.pause || !this.viewport.worldVisible)\r\n        {\r\n            return\r\n        }\r\n\r\n        // only handle wheel events where the mouse is over the viewport\r\n        const point = this.viewport.toLocal(this.getPointerPosition(event));\r\n        if (this.viewport.left <= point.x && point.x <= this.viewport.right && this.viewport.top <= point.y && point.y <= this.viewport.bottom)\r\n        {\r\n            const stop = this.viewport.plugins.wheel(event);\r\n            if (stop)\r\n            {\r\n                event.preventDefault();\r\n            }\r\n        }\r\n    }\r\n\r\n    pause()\r\n    {\r\n        this.touches = [];\r\n        this.isMouseDown = false;\r\n    }\r\n\r\n    /**\r\n     * get touch by id\r\n     * @param {number} id\r\n     * @return {ViewportTouch}\r\n     */\r\n    get(id)\r\n    {\r\n        for (let touch of this.touches)\r\n        {\r\n            if (touch.id === id)\r\n            {\r\n                return touch\r\n            }\r\n        }\r\n        return null\r\n    }\r\n\r\n    /**\r\n     * remove touch by number\r\n     * @param {number} id\r\n     */\r\n    remove(id)\r\n    {\r\n        for (let i = 0; i < this.touches.length; i++)\r\n        {\r\n            if (this.touches[i].id === id)\r\n            {\r\n                this.touches.splice(i, 1);\r\n                return\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns {number} count of mouse/touch pointers that are down on the viewport\r\n     */\r\n    count()\r\n    {\r\n        return (this.isMouseDown ? 1 : 0) + this.touches.length\r\n    }\r\n}\n\nconst PLUGIN_ORDER = ['drag', 'pinch', 'wheel', 'follow', 'mouse-edges', 'decelerate', 'bounce', 'snap-zoom', 'clamp-zoom', 'snap', 'clamp'];\r\n\r\n/**\r\n * Use this to access current plugins or add user-defined plugins\r\n */\r\nclass PluginManager\r\n{\r\n    /**\r\n     * instantiated by Viewport\r\n     * @param {Viewport} viewport\r\n     */\r\n    constructor(viewport)\r\n    {\r\n        this.viewport = viewport;\r\n        this.list = [];\r\n        this.plugins = {};\r\n    }\r\n\r\n    /**\r\n     * Inserts a named plugin or a user plugin into the viewport\r\n     * default plugin order: 'drag', 'pinch', 'wheel', 'follow', 'mouse-edges', 'decelerate', 'bounce', 'snap-zoom', 'clamp-zoom', 'snap', 'clamp'\r\n     * @param {string} name of plugin\r\n     * @param {Plugin} plugin - instantiated Plugin class\r\n     * @param {number} index to insert userPlugin (otherwise inserts it at the end)\r\n     */\r\n    add(name, plugin, index = PLUGIN_ORDER.length)\r\n    {\r\n        this.plugins[name] = plugin;\r\n        const current = PLUGIN_ORDER.indexOf(name);\r\n        if (current !== -1)\r\n        {\r\n            PLUGIN_ORDER.splice(current, 1);\r\n        }\r\n        PLUGIN_ORDER.splice(index, 0, name);\r\n        this.sort();\r\n    }\r\n\r\n    /**\r\n     * get plugin\r\n     * @param {string} name of plugin\r\n     * @return {Plugin}\r\n     */\r\n    get(name)\r\n    {\r\n        return this.plugins[name]\r\n    }\r\n\r\n    /**\r\n     * update all active plugins\r\n     * @private\r\n     * @param {number} elapsed type in milliseconds since last update\r\n     */\r\n    update(elapsed)\r\n    {\r\n        for (let plugin of this.list)\r\n        {\r\n            plugin.update(elapsed);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * resize all active plugins\r\n     * @private\r\n     */\r\n    resize()\r\n    {\r\n        for (let plugin of this.list)\r\n        {\r\n            plugin.resize();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * clamps and resets bounce and decelerate (as needed) after manually moving viewport\r\n     */\r\n    reset()\r\n    {\r\n        if (this.plugins['bounce'])\r\n        {\r\n            this.plugins['bounce'].reset();\r\n            this.plugins['bounce'].bounce();\r\n        }\r\n        if (this.plugins['decelerate'])\r\n        {\r\n            this.plugins['decelerate'].reset();\r\n        }\r\n        if (this.plugins['snap'])\r\n        {\r\n            this.plugins['snap'].reset();\r\n        }\r\n        if (this.plugins['clamp'])\r\n        {\r\n            this.plugins['clamp'].update();\r\n        }\r\n        if (this.plugins['clamp-zoom'])\r\n        {\r\n            this.plugins['clamp-zoom'].clamp();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * removes installed plugin\r\n     * @param {string} name of plugin (e.g., 'drag', 'pinch')\r\n     */\r\n    remove(name)\r\n    {\r\n        if (this.plugins[name])\r\n        {\r\n            this.plugins[name] = null;\r\n            this.viewport.emit(name + '-remove');\r\n            this.sort();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * pause plugin\r\n     * @param {string} name of plugin (e.g., 'drag', 'pinch')\r\n     */\r\n    pause(name)\r\n    {\r\n        if (this.plugins[name])\r\n        {\r\n            this.plugins[name].pause();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * resume plugin\r\n     * @param {string} name of plugin (e.g., 'drag', 'pinch')\r\n     */\r\n    resume(name)\r\n    {\r\n        if (this.plugins[name])\r\n        {\r\n            this.plugins[name].resume();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * sort plugins according to PLUGIN_ORDER\r\n     * @private\r\n     */\r\n    sort()\r\n    {\r\n        this.list = [];\r\n        for (let plugin of PLUGIN_ORDER)\r\n        {\r\n            if (this.plugins[plugin])\r\n            {\r\n                this.list.push(this.plugins[plugin]);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * handle down for all plugins\r\n     * @private\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     * @returns {boolean}\r\n     */\r\n    down(event)\r\n    {\r\n        let stop = false;\r\n        for (let plugin of this.list)\r\n        {\r\n            if (plugin.down(event))\r\n            {\r\n                stop = true;\r\n            }\r\n        }\r\n        return stop\r\n    }\r\n\r\n    /**\r\n     * handle move for all plugins\r\n     * @private\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     * @returns {boolean}\r\n     */\r\n    move(event)\r\n    {\r\n        let stop = false;\r\n        for (let plugin of this.viewport.plugins.list)\r\n        {\r\n            if (plugin.move(event))\r\n            {\r\n                stop = true;\r\n            }\r\n        }\r\n        return stop\r\n    }\r\n\r\n    /**\r\n     * handle up for all plugins\r\n     * @private\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     * @returns {boolean}\r\n     */\r\n    up(event)\r\n    {\r\n        let stop = false;\r\n        for (let plugin of this.list)\r\n        {\r\n            if (plugin.up(event))\r\n            {\r\n                stop = true;\r\n            }\r\n        }\r\n        return stop\r\n    }\r\n\r\n    /**\r\n     * handle wheel event for all plugins\r\n     * @private\r\n     * @param {WheelEvent} event\r\n     * @returns {boolean}\r\n     */\r\n    wheel(e)\r\n    {\r\n        let result = false;\r\n        for (let plugin of this.list)\r\n        {\r\n            if (plugin.wheel(e))\r\n            {\r\n                result = true;\r\n            }\r\n        }\r\n        return result\r\n    }\r\n}\n\n/**\r\n * derive this class to create user-defined plugins\r\n */\r\nclass Plugin\r\n{\r\n    /**\r\n     * @param {Viewport} parent\r\n     */\r\n    constructor(parent)\r\n    {\r\n        this.parent = parent;\r\n        this.paused = false;\r\n    }\r\n\r\n    /** called when plugin is removed */\r\n    destroy() {}\r\n\r\n    /**\r\n     * handler for pointerdown PIXI event\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     * @returns {boolean}\r\n     */\r\n    down()\r\n    {\r\n        return false\r\n    }\r\n\r\n    /**\r\n     * handler for pointermove PIXI event\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     * @returns {boolean}\r\n     */\r\n    move()\r\n    {\r\n        return false\r\n    }\r\n\r\n    /**\r\n     * handler for pointerup PIXI event\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     * @returns {boolean}\r\n     */\r\n    up()\r\n    {\r\n        return false\r\n    }\r\n\r\n    /**\r\n     * handler for wheel event on div\r\n     * @param {WheelEvent} event\r\n     * @returns {boolean}\r\n     */\r\n    wheel()\r\n    {\r\n        return false\r\n    }\r\n\r\n    /**\r\n     * called on each tick\r\n     * @param {number} elapsed time in millisecond since last update\r\n     */\r\n    update() { }\r\n\r\n    /** called when the viewport is resized */\r\n    resize() { }\r\n\r\n    /** called when the viewport is manually moved */\r\n    reset() { }\r\n\r\n    /** pause the plugin */\r\n    pause()\r\n    {\r\n        this.paused = true;\r\n    }\r\n\r\n    /** un-pause the plugin */\r\n    resume()\r\n    {\r\n        this.paused = false;\r\n    }\r\n}\n\n/**\r\n * @typedef {object} LastDrag\r\n * @property {number} x\r\n * @property {number} y\r\n * @property {PIXI.Point} parent\r\n */\r\n\r\n/**\r\n * @typedef DragOptions\r\n * @property {string} [direction=all] direction to drag\r\n * @property {boolean} [wheel=true] use wheel to scroll in y direction(unless wheel plugin is active)\r\n * @property {number} [wheelScroll=1] number of pixels to scroll with each wheel spin\r\n * @property {boolean} [reverse] reverse the direction of the wheel scroll\r\n * @property {(boolean|string)} [clampWheel=false] clamp wheel(to avoid weird bounce with mouse wheel)\r\n * @property {string} [underflow=center] where to place world if too small for screen\r\n * @property {number} [factor=1] factor to multiply drag to increase the speed of movement\r\n * @property {string} [mouseButtons=all] changes which mouse buttons trigger drag, use: 'all', 'left', right' 'middle', or some combination, like, 'middle-right'; you may want to set viewport.options.disableOnContextMenu if you want to use right-click dragging\r\n */\r\n\r\nconst dragOptions = {\r\n    direction: 'all',\r\n    wheel: true,\r\n    wheelScroll: 1,\r\n    reverse: false,\r\n    clampWheel: false,\r\n    underflow: 'center',\r\n    factor: 1,\r\n    mouseButtons: 'all'\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nclass Drag extends Plugin\r\n{\r\n    /**\r\n     * @param {Viewport} parent\r\n     * @param {DragOptions} options\r\n     */\r\n    constructor(parent, options={})\r\n    {\r\n        super(parent);\r\n        this.options = Object.assign({}, dragOptions, options);\r\n        this.moved = false;\r\n        this.reverse = this.options.reverse ? 1 : -1;\r\n        this.xDirection = !this.options.direction || this.options.direction === 'all' || this.options.direction === 'x';\r\n        this.yDirection = !this.options.direction || this.options.direction === 'all' || this.options.direction === 'y';\r\n\r\n        this.parseUnderflow();\r\n        this.mouseButtons(this.options.mouseButtons);\r\n    }\r\n\r\n    /**\r\n     * initialize mousebuttons array\r\n     * @param {string} buttons\r\n     */\r\n    mouseButtons(buttons)\r\n    {\r\n        if (!buttons || buttons === 'all')\r\n        {\r\n            this.mouse = [true, true, true];\r\n        }\r\n        else\r\n        {\r\n            this.mouse = [\r\n                buttons.indexOf('left') === -1 ? false : true,\r\n                buttons.indexOf('middle') === -1 ? false : true,\r\n                buttons.indexOf('right') === -1 ? false : true\r\n            ];\r\n        }\r\n    }\r\n\r\n    parseUnderflow()\r\n    {\r\n        const clamp = this.options.underflow.toLowerCase();\r\n        if (clamp === 'center')\r\n        {\r\n            this.underflowX = 0;\r\n            this.underflowY = 0;\r\n        }\r\n        else\r\n        {\r\n            this.underflowX = (clamp.indexOf('left') !== -1) ? -1 : (clamp.indexOf('right') !== -1) ? 1 : 0;\r\n            this.underflowY = (clamp.indexOf('top') !== -1) ? -1 : (clamp.indexOf('bottom') !== -1) ? 1 : 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     * @returns {boolean}\r\n     */\r\n    checkButtons(event)\r\n    {\r\n        const isMouse = event.data.pointerType === 'mouse';\r\n        const count = this.parent.input.count();\r\n        if ((count === 1) || (count > 1 && !this.parent.plugins.get('pinch')))\r\n        {\r\n            if (!isMouse || this.mouse[event.data.button])\r\n            {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    /**\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     */\r\n    down(event)\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n        if (this.checkButtons(event))\r\n        {\r\n            this.last = { x: event.data.global.x, y: event.data.global.y };\r\n            this.current = event.data.pointerId;\r\n            return true\r\n        }\r\n        else\r\n        {\r\n            this.last = null;\r\n        }\r\n    }\r\n\r\n    get active()\r\n    {\r\n        return this.moved\r\n    }\r\n\r\n    /**\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     */\r\n    move(event)\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n        if (this.last && this.current === event.data.pointerId)\r\n        {\r\n            const x = event.data.global.x;\r\n            const y = event.data.global.y;\r\n            const count = this.parent.input.count();\r\n            if (count === 1 || (count > 1 && !this.parent.plugins.get('pinch')))\r\n            {\r\n                const distX = x - this.last.x;\r\n                const distY = y - this.last.y;\r\n                if (this.moved || ((this.xDirection && this.parent.input.checkThreshold(distX)) || (this.yDirection && this.parent.input.checkThreshold(distY))))\r\n                {\r\n                    const newPoint = { x, y };\r\n                    if (this.xDirection)\r\n                    {\r\n                        this.parent.x += (newPoint.x - this.last.x) * this.options.factor;\r\n                    }\r\n                    if (this.yDirection)\r\n                    {\r\n                        this.parent.y += (newPoint.y - this.last.y) * this.options.factor;\r\n                    }\r\n                    this.last = newPoint;\r\n                    if (!this.moved)\r\n                    {\r\n                        this.parent.emit('drag-start', { screen: new Point(this.last.x, this.last.y), world: this.parent.toWorld(new Point(this.last.x, this.last.y)), viewport: this.parent});\r\n                    }\r\n                    this.moved = true;\r\n                    this.parent.emit('moved', { viewport: this.parent, type: 'drag' });\r\n                    return true\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this.moved = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     * @returns {boolean}\r\n     */\r\n    up()\r\n    {\r\n        const touches = this.parent.input.touches;\r\n        if (touches.length === 1)\r\n        {\r\n            const pointer = touches[0];\r\n            if (pointer.last)\r\n            {\r\n                this.last = { x: pointer.last.x, y: pointer.last.y };\r\n                this.current = pointer.id;\r\n            }\r\n            this.moved = false;\r\n            return true\r\n        }\r\n        else if (this.last)\r\n        {\r\n            if (this.moved)\r\n            {\r\n                const screen = new Point(this.last.x, this.last.y);\r\n                this.parent.emit('drag-end', {screen, world: this.parent.toWorld(screen), viewport: this.parent});\r\n                this.last = null;\r\n                this.moved = false;\r\n                return true\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {WheelEvent} event\r\n     * @returns {boolean}\r\n     */\r\n    wheel(event)\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n\r\n        if (this.options.wheel)\r\n        {\r\n            const wheel = this.parent.plugins.get('wheel');\r\n            if (!wheel)\r\n            {\r\n                if (this.xDirection)\r\n                {\r\n                    this.parent.x += event.deltaX * this.options.wheelScroll * this.reverse;\r\n                }\r\n                if (this.yDirection)\r\n                {\r\n                    this.parent.y += event.deltaY * this.options.wheelScroll * this.reverse;\r\n                }\r\n                if (this.options.clampWheel)\r\n                {\r\n                    this.clamp();\r\n                }\r\n                this.parent.emit('wheel-scroll', this.parent);\r\n                this.parent.emit('moved', this.parent);\r\n                if (!this.parent.options.passiveWheel)\r\n                {\r\n                    event.preventDefault();\r\n                }\r\n                return true\r\n            }\r\n        }\r\n    }\r\n\r\n    resume()\r\n    {\r\n        this.last = null;\r\n        this.paused = false;\r\n    }\r\n\r\n    clamp()\r\n    {\r\n        const decelerate = this.parent.plugins.get('decelerate') || {};\r\n        if (this.options.clampWheel !== 'y')\r\n        {\r\n            if (this.parent.screenWorldWidth < this.parent.screenWidth)\r\n            {\r\n                switch (this.underflowX)\r\n                {\r\n                    case -1:\r\n                        this.parent.x = 0;\r\n                        break\r\n                    case 1:\r\n                        this.parent.x = (this.parent.screenWidth - this.parent.screenWorldWidth);\r\n                        break\r\n                    default:\r\n                        this.parent.x = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (this.parent.left < 0)\r\n                {\r\n                    this.parent.x = 0;\r\n                    decelerate.x = 0;\r\n                }\r\n                else if (this.parent.right > this.parent.worldWidth)\r\n                {\r\n                    this.parent.x = -this.parent.worldWidth * this.parent.scale.x + this.parent.screenWidth;\r\n                    decelerate.x = 0;\r\n                }\r\n            }\r\n        }\r\n        if (this.options.clampWheel !== 'x')\r\n        {\r\n            if (this.parent.screenWorldHeight < this.parent.screenHeight)\r\n            {\r\n                switch (this.underflowY)\r\n                {\r\n                    case -1:\r\n                        this.parent.y = 0;\r\n                        break\r\n                    case 1:\r\n                        this.parent.y = (this.parent.screenHeight - this.parent.screenWorldHeight);\r\n                        break\r\n                    default:\r\n                        this.parent.y = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (this.parent.top < 0)\r\n                {\r\n                    this.parent.y = 0;\r\n                    decelerate.y = 0;\r\n                }\r\n                if (this.parent.bottom > this.parent.worldHeight)\r\n                {\r\n                    this.parent.y = -this.parent.worldHeight * this.parent.scale.y + this.parent.screenHeight;\r\n                    decelerate.y = 0;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\n\n/**\r\n * @typedef {object} PinchOptions\r\n * @property {boolean} [noDrag] disable two-finger dragging\r\n * @property {number} [percent=1.0] percent to modify pinch speed\r\n * @property {PIXI.Point} [center] place this point at center during zoom instead of center of two fingers\r\n */\r\n\r\nconst pinchOptions = {\r\n    noDrag: false,\r\n    percent: 1.0,\r\n    center: null\r\n};\r\n\r\nclass Pinch extends Plugin\r\n{\r\n    /**\r\n     * @private\r\n     * @param {Viewport} parent\r\n     * @param {PinchOptions} [options]\r\n     */\r\n    constructor(parent, options={})\r\n    {\r\n        super(parent);\r\n        this.options = Object.assign({}, pinchOptions, options);\r\n    }\r\n\r\n    down()\r\n    {\r\n        if (this.parent.input.count() >= 2)\r\n        {\r\n            this.active = true;\r\n            return true\r\n        }\r\n    }\r\n\r\n    move(e)\r\n    {\r\n        if (this.paused || !this.active)\r\n        {\r\n            return\r\n        }\r\n\r\n        const x = e.data.global.x;\r\n        const y = e.data.global.y;\r\n\r\n        const pointers = this.parent.input.touches;\r\n        if (pointers.length >= 2)\r\n        {\r\n            const first = pointers[0];\r\n            const second = pointers[1];\r\n            const last = (first.last && second.last) ? Math.sqrt(Math.pow(second.last.x - first.last.x, 2) + Math.pow(second.last.y - first.last.y, 2)) : null;\r\n            if (first.id === e.data.pointerId)\r\n            {\r\n                first.last = { x, y, data: e.data };\r\n            }\r\n            else if (second.id === e.data.pointerId)\r\n            {\r\n                second.last = { x, y, data: e.data };\r\n            }\r\n            if (last)\r\n            {\r\n                let oldPoint;\r\n                const point = { x: first.last.x + (second.last.x - first.last.x) / 2, y: first.last.y + (second.last.y - first.last.y) / 2 };\r\n                if (!this.options.center)\r\n                {\r\n                    oldPoint = this.parent.toLocal(point);\r\n                }\r\n                const dist = Math.sqrt(Math.pow(second.last.x - first.last.x, 2) + Math.pow(second.last.y - first.last.y, 2));\r\n                const change = ((dist - last) / this.parent.screenWidth) * this.parent.scale.x * this.options.percent;\r\n                this.parent.scale.x += change;\r\n                this.parent.scale.y += change;\r\n                this.parent.emit('zoomed', { viewport: this.parent, type: 'pinch' });\r\n                const clamp = this.parent.plugins.get('clamp-zoom');\r\n                if (clamp)\r\n                {\r\n                    clamp.clamp();\r\n                }\r\n                if (this.options.center)\r\n                {\r\n                    this.parent.moveCenter(this.options.center);\r\n                }\r\n                else\r\n                {\r\n                    const newPoint = this.parent.toGlobal(oldPoint);\r\n                    this.parent.x += point.x - newPoint.x;\r\n                    this.parent.y += point.y - newPoint.y;\r\n                    this.parent.emit('moved', { viewport: this.parent, type: 'pinch' });\r\n                }\r\n                if (!this.options.noDrag && this.lastCenter)\r\n                {\r\n                    this.parent.x += point.x - this.lastCenter.x;\r\n                    this.parent.y += point.y - this.lastCenter.y;\r\n                    this.parent.emit('moved', { viewport: this.parent, type: 'pinch' });\r\n                }\r\n                this.lastCenter = point;\r\n                this.moved = true;\r\n            }\r\n            else\r\n            {\r\n                if (!this.pinching)\r\n                {\r\n                    this.parent.emit('pinch-start', this.parent);\r\n                    this.pinching = true;\r\n                }\r\n            }\r\n            return true\r\n        }\r\n    }\r\n\r\n    up()\r\n    {\r\n        if (this.pinching)\r\n        {\r\n            if (this.parent.input.touches.length <= 1)\r\n            {\r\n                this.active = false;\r\n                this.lastCenter = null;\r\n                this.pinching = false;\r\n                this.moved = false;\r\n                this.parent.emit('pinch-end', this.parent);\r\n                return true\r\n            }\r\n        }\r\n    }\r\n}\n\n/**\r\n * @typedef ClampOptions\r\n * @property {(number|boolean)} [left=false] clamp left; true = 0\r\n * @property {(number|boolean)} [right=false] clamp right; true = viewport.worldWidth\r\n * @property {(number|boolean)} [top=false] clamp top; true = 0\r\n * @property {(number|boolean)} [bottom=false] clamp bottom; true = viewport.worldHeight\r\n * @property {string} [direction] (all, x, or y) using clamps of [0, viewport.worldWidth/viewport.worldHeight]; replaces left/right/top/bottom if set\r\n * @property {string} [underflow=center] where to place world if too small for screen (e.g., top-right, center, none, bottomleft)\r\n */\r\n\r\nconst clampOptions =\r\n{\r\n    left: false,\r\n    right: false,\r\n    top: false,\r\n    bottom: false,\r\n    direction: null,\r\n    underflow: 'center'\r\n};\r\n\r\nclass Clamp extends Plugin\r\n{\r\n    /**\r\n     * @private\r\n     * @param {Viewport} parent\r\n     * @param {ClampOptions} [options]\r\n     */\r\n    constructor(parent, options={})\r\n    {\r\n        super(parent);\r\n        this.options = Object.assign({}, clampOptions, options);\r\n        if (this.options.direction)\r\n        {\r\n            this.options.left = this.options.direction === 'x' || this.options.direction === 'all' ? true : null;\r\n            this.options.right = this.options.direction === 'x' || this.options.direction === 'all' ? true : null;\r\n            this.options.top = this.options.direction === 'y' || this.options.direction === 'all' ? true : null;\r\n            this.options.bottom = this.options.direction === 'y' || this.options.direction === 'all' ? true : null;\r\n        }\r\n        this.parseUnderflow();\r\n        this.update();\r\n    }\r\n\r\n    parseUnderflow()\r\n    {\r\n        const clamp = this.options.underflow.toLowerCase();\r\n        if (clamp === 'none')\r\n        {\r\n            this.noUnderflow = true;\r\n        }\r\n        else if (clamp === 'center')\r\n        {\r\n            this.underflowX = this.underflowY = 0;\r\n            this.noUnderflow = false;\r\n        }\r\n        else\r\n        {\r\n            this.underflowX = (clamp.indexOf('left') !== -1) ? -1 : (clamp.indexOf('right') !== -1) ? 1 : 0;\r\n            this.underflowY = (clamp.indexOf('top') !== -1) ? -1 : (clamp.indexOf('bottom') !== -1) ? 1 : 0;\r\n            this.noUnderflow = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * handle move events\r\n     * @param {PIXI.interaction.InteractionEvent} event\r\n     * @returns {boolean}\r\n     */\r\n    move()\r\n    {\r\n        this.update();\r\n        return false\r\n    }\r\n\r\n    update()\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n        const original = { x: this.parent.x, y: this.parent.y };\r\n        const decelerate = this.parent.plugins['decelerate'] || {};\r\n        if (this.options.left !== null || this.options.right !== null)\r\n        {\r\n            let moved = false;\r\n            if (this.parent.screenWorldWidth < this.parent.screenWidth)\r\n            {\r\n                if (!this.noUnderflow)\r\n                {\r\n                    switch (this.underflowX)\r\n                    {\r\n                        case -1:\r\n                            if (this.parent.x !== 0)\r\n                            {\r\n                                this.parent.x = 0;\r\n                                moved = true;\r\n                            }\r\n                            break\r\n                        case 1:\r\n                            if (this.parent.x !== this.parent.screenWidth - this.parent.screenWorldWidth)\r\n                            {\r\n                                this.parent.x = this.parent.screenWidth - this.parent.screenWorldWidth;\r\n                                moved = true;\r\n                            }\r\n                            break\r\n                        default:\r\n                            if (this.parent.x !== (this.parent.screenWidth - this.parent.screenWorldWidth) / 2)\r\n                            {\r\n                                this.parent.x = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2;\r\n                                moved = true;\r\n                            }\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (this.options.left !== null)\r\n                {\r\n                    if (this.parent.left < (this.options.left === true ? 0 : this.options.left))\r\n                    {\r\n                        this.parent.x = -(this.options.left === true ? 0 : this.options.left) * this.parent.scale.x;\r\n                        decelerate.x = 0;\r\n                        moved = true;\r\n                    }\r\n                }\r\n                if (this.options.right !== null)\r\n                {\r\n                    if (this.parent.right > (this.options.right === true ? this.parent.worldWidth : this.options.right))\r\n                    {\r\n                        this.parent.x = -(this.options.right === true ? this.parent.worldWidth : this.options.right) * this.parent.scale.x + this.parent.screenWidth;\r\n                        decelerate.x = 0;\r\n                        moved = true;\r\n                    }\r\n                }\r\n            }\r\n            if (moved)\r\n            {\r\n                this.parent.emit('moved', { viewport: this.parent, original, type: 'clamp-x' });\r\n            }\r\n        }\r\n        if (this.options.top !== null || this.options.bottom !== null)\r\n        {\r\n            let moved = false;\r\n            if (this.parent.screenWorldHeight < this.parent.screenHeight)\r\n            {\r\n                if (!this.noUnderflow)\r\n                {\r\n                    switch (this.underflowY)\r\n                    {\r\n                        case -1:\r\n                            if (this.parent.y !== 0)\r\n                            {\r\n                                this.parent.y = 0;\r\n                                moved = true;\r\n                            }\r\n                            break\r\n                        case 1:\r\n                            if (this.parent.y !== this.parent.screenHeight - this.parent.screenWorldHeight)\r\n                            {\r\n                                this.parent.y = (this.parent.screenHeight - this.parent.screenWorldHeight);\r\n                                moved = true;\r\n                            }\r\n                            break\r\n                        default:\r\n                            if (this.parent.y !== (this.parent.screenHeight - this.parent.screenWorldHeight) / 2)\r\n                            {\r\n                                this.parent.y = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2;\r\n                                moved = true;\r\n                            }\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (this.options.top !== null)\r\n                {\r\n                    if (this.parent.top < (this.options.top === true ? 0 : this.options.top))\r\n                    {\r\n                        this.parent.y = -(this.options.top === true ? 0 : this.options.top) * this.parent.scale.y;\r\n                        decelerate.y = 0;\r\n                        moved = true;\r\n                    }\r\n                }\r\n                if (this.options.bottom !== null)\r\n                {\r\n                    if (this.parent.bottom > (this.options.bottom === true ? this.parent.worldHeight : this.options.bottom))\r\n                    {\r\n                        this.parent.y = -(this.options.bottom === true ? this.parent.worldHeight : this.options.bottom) * this.parent.scale.y + this.parent.screenHeight;\r\n                        decelerate.y = 0;\r\n                        moved = true;\r\n                    }\r\n                }\r\n            }\r\n            if (moved)\r\n            {\r\n                this.parent.emit('moved', { viewport: this.parent, original, type: 'clamp-y' });\r\n            }\r\n        }\r\n    }\r\n}\n\n/**\r\n * @typedef {object} ClampZoomOptions\r\n * @property {number} [minWidth] minimum width\r\n * @property {number} [minHeight] minimum height\r\n * @property {number} [maxWidth] maximum width\r\n * @property {number} [maxHeight] maximum height\r\n */\r\n\r\nconst clampZoomOptions = {\r\n    minWidth: null,\r\n    minHeight: null,\r\n    maxWidth: null,\r\n    maxHeight: null\r\n};\r\n\r\nclass ClampZoom extends Plugin\r\n{\r\n    /**\r\n     * @private\r\n     * @param {Viewport} parent\r\n     * @param {ClampZoomOptions} [options]\r\n     */\r\n    constructor(parent, options={})\r\n    {\r\n        super(parent);\r\n        this.options = Object.assign({}, clampZoomOptions, options);\r\n        this.clamp();\r\n    }\r\n\r\n    resize()\r\n    {\r\n        this.clamp();\r\n    }\r\n\r\n    clamp()\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n\r\n        let width = this.parent.worldScreenWidth;\r\n        let height = this.parent.worldScreenHeight;\r\n        if (this.options.minWidth !== null && width < this.options.minWidth)\r\n        {\r\n            const original = this.parent.scale.x;\r\n            this.parent.fitWidth(this.options.minWidth, false, false, true);\r\n            this.parent.scale.y *= this.parent.scale.x / original;\r\n            width = this.parent.worldScreenWidth;\r\n            height = this.parent.worldScreenHeight;\r\n            this.parent.emit('zoomed', { viewport: this.parent, type: 'clamp-zoom' });\r\n        }\r\n        if (this.options.maxWidth !== null && width > this.options.maxWidth)\r\n        {\r\n            const original = this.parent.scale.x;\r\n            this.parent.fitWidth(this.options.maxWidth, false, false, true);\r\n            this.parent.scale.y *= this.parent.scale.x / original;\r\n            width = this.parent.worldScreenWidth;\r\n            height = this.parent.worldScreenHeight;\r\n            this.parent.emit('zoomed', { viewport: this.parent, type: 'clamp-zoom' });\r\n        }\r\n        if (this.options.minHeight !== null && height < this.options.minHeight)\r\n        {\r\n            const original = this.parent.scale.y;\r\n            this.parent.fitHeight(this.options.minHeight, false, false, true);\r\n            this.parent.scale.x *= this.parent.scale.y / original;\r\n            width = this.parent.worldScreenWidth;\r\n            height = this.parent.worldScreenHeight;\r\n            this.parent.emit('zoomed', { viewport: this.parent, type: 'clamp-zoom' });\r\n        }\r\n        if (this.options.maxHeight !== null && height > this.options.maxHeight)\r\n        {\r\n            const original = this.parent.scale.y;\r\n            this.parent.fitHeight(this.options.maxHeight, false, false, true);\r\n            this.parent.scale.x *= this.parent.scale.y / original;\r\n            this.parent.emit('zoomed', { viewport: this.parent, type: 'clamp-zoom' });\r\n        }\r\n    }\r\n}\n\n/**\r\n * @typedef {object} DecelerateOptions\r\n * @property {number} [friction=0.95] percent to decelerate after movement\r\n * @property {number} [bounce=0.8] percent to decelerate when past boundaries (only applicable when viewport.bounce() is active)\r\n * @property {number} [minSpeed=0.01] minimum velocity before stopping/reversing acceleration\r\n */\r\n\r\nconst decelerateOptions = {\r\n    friction: 0.95,\r\n    bounce: 0.8,\r\n    minSpeed: 0.01\r\n};\r\n\r\nclass Decelerate extends Plugin\r\n{\r\n    /**\r\n     * @private\r\n     * @param {Viewport} parent\r\n     * @param {DecelerateOptions} [options]\r\n     */\r\n    constructor(parent, options={})\r\n    {\r\n        super(parent);\r\n        this.options = Object.assign({}, decelerateOptions, options);\r\n        this.saved = [];\r\n        this.reset();\r\n        this.parent.on('moved', data => this.moved(data));\r\n    }\r\n\r\n    destroy()\r\n    {\r\n        this.parent;\r\n    }\r\n\r\n    down()\r\n    {\r\n        this.saved = [];\r\n        this.x = this.y = false;\r\n    }\r\n\r\n    isActive()\r\n    {\r\n        return this.x || this.y\r\n    }\r\n\r\n    move()\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n\r\n        const count = this.parent.input.count();\r\n        if (count === 1 || (count > 1 && !this.parent.plugins.get('pinch')))\r\n        {\r\n            this.saved.push({ x: this.parent.x, y: this.parent.y, time: performance.now() });\r\n            if (this.saved.length > 60)\r\n            {\r\n                this.saved.splice(0, 30);\r\n            }\r\n        }\r\n    }\r\n\r\n    moved(data)\r\n    {\r\n        if (this.saved.length)\r\n        {\r\n            const last = this.saved[this.saved.length - 1];\r\n            if (data.type === 'clamp-x')\r\n            {\r\n                if (last.x === data.original.x)\r\n                {\r\n                    last.x = this.parent.x;\r\n                }\r\n            }\r\n            else if (data.type === 'clamp-y')\r\n            {\r\n                if (last.y === data.original.y)\r\n                {\r\n                    last.y = this.parent.y;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    up()\r\n    {\r\n        if (this.parent.input.count() === 0 && this.saved.length)\r\n        {\r\n            const now = performance.now();\r\n            for (let save of this.saved)\r\n            {\r\n                if (save.time >= now - 100)\r\n                {\r\n                    const time = now - save.time;\r\n                    this.x = (this.parent.x - save.x) / time;\r\n                    this.y = (this.parent.y - save.y) / time;\r\n                    this.percentChangeX = this.percentChangeY = this.options.friction;\r\n                    break\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * manually activate plugin\r\n     * @param {object} options\r\n     * @param {number} [options.x]\r\n     * @param {number} [options.y]\r\n     */\r\n    activate(options)\r\n    {\r\n        options = options || {};\r\n        if (typeof options.x !== 'undefined')\r\n        {\r\n            this.x = options.x;\r\n            this.percentChangeX = this.options.friction;\r\n        }\r\n        if (typeof options.y !== 'undefined')\r\n        {\r\n            this.y = options.y;\r\n            this.percentChangeY = this.options.friction;\r\n        }\r\n    }\r\n\r\n    update(elapsed)\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n\r\n        let moved;\r\n        if (this.x)\r\n        {\r\n            this.parent.x += this.x * elapsed;\r\n            this.x *= this.percentChangeX;\r\n            if (Math.abs(this.x) < this.options.minSpeed)\r\n            {\r\n                this.x = 0;\r\n            }\r\n            moved = true;\r\n        }\r\n        if (this.y)\r\n        {\r\n            this.parent.y += this.y * elapsed;\r\n            this.y *= this.percentChangeY;\r\n            if (Math.abs(this.y) < this.options.minSpeed)\r\n            {\r\n                this.y = 0;\r\n            }\r\n            moved = true;\r\n        }\r\n        if (moved)\r\n        {\r\n            this.parent.emit('moved', { viewport: this.parent, type: 'decelerate' });\r\n        }\r\n    }\r\n\r\n    reset()\r\n    {\r\n        this.x = this.y = null;\r\n    }\r\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar penner = createCommonjsModule(function (module, exports) {\n/*\n\tCopyright © 2001 Robert Penner\n\tAll rights reserved.\n\n\tRedistribution and use in source and binary forms, with or without modification, \n\tare permitted provided that the following conditions are met:\n\n\tRedistributions of source code must retain the above copyright notice, this list of \n\tconditions and the following disclaimer.\n\tRedistributions in binary form must reproduce the above copyright notice, this list \n\tof conditions and the following disclaimer in the documentation and/or other materials \n\tprovided with the distribution.\n\n\tNeither the name of the author nor the names of contributors may be used to endorse \n\tor promote products derived from this software without specific prior written permission.\n\n\tTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY \n\tEXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n\tMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n\tCOPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n\tEXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n\tGOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED \n\tAND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n\tNEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED \n\tOF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n(function() {\n  var penner, umd;\n\n  umd = function(factory) {\n    {\n      return module.exports = factory;\n    }\n  };\n\n  penner = {\n    linear: function(t, b, c, d) {\n      return c * t / d + b;\n    },\n    easeInQuad: function(t, b, c, d) {\n      return c * (t /= d) * t + b;\n    },\n    easeOutQuad: function(t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    },\n    easeInOutQuad: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * t * t + b;\n      } else {\n        return -c / 2 * ((--t) * (t - 2) - 1) + b;\n      }\n    },\n    easeInCubic: function(t, b, c, d) {\n      return c * (t /= d) * t * t + b;\n    },\n    easeOutCubic: function(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t + 1) + b;\n    },\n    easeInOutCubic: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * t * t * t + b;\n      } else {\n        return c / 2 * ((t -= 2) * t * t + 2) + b;\n      }\n    },\n    easeInQuart: function(t, b, c, d) {\n      return c * (t /= d) * t * t * t + b;\n    },\n    easeOutQuart: function(t, b, c, d) {\n      return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n    },\n    easeInOutQuart: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * t * t * t * t + b;\n      } else {\n        return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n      }\n    },\n    easeInQuint: function(t, b, c, d) {\n      return c * (t /= d) * t * t * t * t + b;\n    },\n    easeOutQuint: function(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    easeInOutQuint: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * t * t * t * t * t + b;\n      } else {\n        return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n      }\n    },\n    easeInSine: function(t, b, c, d) {\n      return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n    },\n    easeOutSine: function(t, b, c, d) {\n      return c * Math.sin(t / d * (Math.PI / 2)) + b;\n    },\n    easeInOutSine: function(t, b, c, d) {\n      return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n    },\n    easeInExpo: function(t, b, c, d) {\n      if (t === 0) {\n        return b;\n      } else {\n        return c * Math.pow(2, 10 * (t / d - 1)) + b;\n      }\n    },\n    easeOutExpo: function(t, b, c, d) {\n      if (t === d) {\n        return b + c;\n      } else {\n        return c * (-Math.pow(2, -10 * t / d) + 1) + b;\n      }\n    },\n    easeInOutExpo: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n      } else {\n        return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n      }\n    },\n    easeInCirc: function(t, b, c, d) {\n      return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n    },\n    easeOutCirc: function(t, b, c, d) {\n      return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n    },\n    easeInOutCirc: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n      } else {\n        return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n      }\n    },\n    easeInElastic: function(t, b, c, d) {\n      var a, p, s;\n      s = 1.70158;\n      p = 0;\n      a = c;\n      if (t === 0) ; else if ((t /= d) === 1) ;\n      if (!p) {\n        p = d * .3;\n      }\n      if (a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n      return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    },\n    easeOutElastic: function(t, b, c, d) {\n      var a, p, s;\n      s = 1.70158;\n      p = 0;\n      a = c;\n      if (t === 0) ; else if ((t /= d) === 1) ;\n      if (!p) {\n        p = d * .3;\n      }\n      if (a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n      return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n    },\n    easeInOutElastic: function(t, b, c, d) {\n      var a, p, s;\n      s = 1.70158;\n      p = 0;\n      a = c;\n      if (t === 0) ; else if ((t /= d / 2) === 2) ;\n      if (!p) {\n        p = d * (.3 * 1.5);\n      }\n      if (a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n      if (t < 1) {\n        return -.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n      } else {\n        return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n      }\n    },\n    easeInBack: function(t, b, c, d, s) {\n      if (s === void 0) {\n        s = 1.70158;\n      }\n      return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    easeOutBack: function(t, b, c, d, s) {\n      if (s === void 0) {\n        s = 1.70158;\n      }\n      return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    easeInOutBack: function(t, b, c, d, s) {\n      if (s === void 0) {\n        s = 1.70158;\n      }\n      if ((t /= d / 2) < 1) {\n        return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n      } else {\n        return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n      }\n    },\n    easeInBounce: function(t, b, c, d) {\n      var v;\n      v = penner.easeOutBounce(d - t, 0, c, d);\n      return c - v + b;\n    },\n    easeOutBounce: function(t, b, c, d) {\n      if ((t /= d) < 1 / 2.75) {\n        return c * (7.5625 * t * t) + b;\n      } else if (t < 2 / 2.75) {\n        return c * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + b;\n      } else if (t < 2.5 / 2.75) {\n        return c * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + b;\n      } else {\n        return c * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + b;\n      }\n    },\n    easeInOutBounce: function(t, b, c, d) {\n      var v;\n      if (t < d / 2) {\n        v = penner.easeInBounce(t * 2, 0, c, d);\n        return v * .5 + b;\n      } else {\n        v = penner.easeOutBounce(t * 2 - d, 0, c, d);\n        return v * .5 + c * .5 + b;\n      }\n    }\n  };\n\n  umd(penner);\n\n}).call(commonjsGlobal);\n});\n\n/**\r\n * returns correct Penner equation using string or Function\r\n * @param {(function|string)} [ease]\r\n * @param {defaults} default penner equation to use if none is provided\r\n */\r\nfunction ease(ease, defaults)\r\n{\r\n    if (!ease)\r\n    {\r\n        return penner[defaults]\r\n    }\r\n    else if (typeof ease === 'function')\r\n    {\r\n        return ease\r\n    }\r\n    else if (typeof ease === 'string')\r\n    {\r\n        return penner[ease]\r\n    }\r\n}\n\n/**\r\n * @typedef {options} BounceOptions\r\n * @property {string} [sides=all] all, horizontal, vertical, or combination of top, bottom, right, left (e.g., 'top-bottom-right')\r\n * @property {number} [friction=0.5] friction to apply to decelerate if active\r\n * @property {number} [time=150] time in ms to finish bounce\r\n * @property {string|function} [ease=easeInOutSine] ease function or name (see http://easings.net/ for supported names)\r\n * @property {string} [underflow=center] (top/bottom/center and left/right/center, or center) where to place world if too small for screen\r\n */\r\n\r\nconst bounceOptions = {\r\n    sides: 'all',\r\n    friction: 0.5,\r\n    time: 150,\r\n    ease: 'easeInOutSine',\r\n    underflow: 'center'\r\n};\r\n\r\nclass Bounce extends Plugin\r\n{\r\n    /**\r\n     * @private\r\n     * @param {Viewport} parent\r\n     * @param {BounceOptions} [options]\r\n     * @fires bounce-start-x\r\n     * @fires bounce.end-x\r\n     * @fires bounce-start-y\r\n     * @fires bounce-end-y\r\n     */\r\n    constructor(parent, options={})\r\n    {\r\n        super(parent);\r\n        this.options = Object.assign({}, bounceOptions, options);\r\n        this.ease = ease(this.options.ease, 'easeInOutSine');\r\n        if (this.options.sides)\r\n        {\r\n            if (this.options.sides === 'all')\r\n            {\r\n                this.top = this.bottom = this.left = this.right = true;\r\n            }\r\n            else if (this.options.sides === 'horizontal')\r\n            {\r\n                this.right = this.left = true;\r\n            }\r\n            else if (this.options.sides === 'vertical')\r\n            {\r\n                this.top = this.bottom = true;\r\n            }\r\n            else\r\n            {\r\n                this.top = this.options.sides.indexOf('top') !== -1;\r\n                this.bottom = this.options.sides.indexOf('bottom') !== -1;\r\n                this.left = this.options.sides.indexOf('left') !== -1;\r\n                this.right = this.options.sides.indexOf('right') !== -1;\r\n            }\r\n        }\r\n        this.parseUnderflow();\r\n        this.last = {};\r\n        this.reset();\r\n    }\r\n\r\n    parseUnderflow()\r\n    {\r\n        const clamp = this.options.underflow.toLowerCase();\r\n        if (clamp === 'center')\r\n        {\r\n            this.underflowX = 0;\r\n            this.underflowY = 0;\r\n        }\r\n        else\r\n        {\r\n            this.underflowX = (clamp.indexOf('left') !== -1) ? -1 : (clamp.indexOf('right') !== -1) ? 1 : 0;\r\n            this.underflowY = (clamp.indexOf('top') !== -1) ? -1 : (clamp.indexOf('bottom') !== -1) ? 1 : 0;\r\n        }\r\n    }\r\n\r\n    isActive()\r\n    {\r\n        return this.toX !== null || this.toY !== null\r\n    }\r\n\r\n    down()\r\n    {\r\n        this.toX = this.toY = null;\r\n    }\r\n\r\n    up()\r\n    {\r\n        this.bounce();\r\n    }\r\n\r\n    update(elapsed)\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n\r\n        this.bounce();\r\n        if (this.toX)\r\n        {\r\n            const toX = this.toX;\r\n            toX.time += elapsed;\r\n            this.parent.emit('moved', { viewport: this.parent, type: 'bounce-x' });\r\n            if (toX.time >= this.options.time)\r\n            {\r\n                this.parent.x = toX.end;\r\n                this.toX = null;\r\n                this.parent.emit('bounce-x-end', this.parent);\r\n            }\r\n            else\r\n            {\r\n                this.parent.x = this.ease(toX.time, toX.start, toX.delta, this.options.time);\r\n            }\r\n        }\r\n        if (this.toY)\r\n        {\r\n            const toY = this.toY;\r\n            toY.time += elapsed;\r\n            this.parent.emit('moved', { viewport: this.parent, type: 'bounce-y' });\r\n            if (toY.time >= this.options.time)\r\n            {\r\n                this.parent.y = toY.end;\r\n                this.toY = null;\r\n                this.parent.emit('bounce-y-end', this.parent);\r\n            }\r\n            else\r\n            {\r\n                this.parent.y = this.ease(toY.time, toY.start, toY.delta, this.options.time);\r\n            }\r\n        }\r\n    }\r\n\r\n    calcUnderflowX()\r\n    {\r\n        let x;\r\n        switch (this.underflowX)\r\n        {\r\n            case -1:\r\n                x = 0;\r\n                break\r\n            case 1:\r\n                x = (this.parent.screenWidth - this.parent.screenWorldWidth);\r\n                break\r\n            default:\r\n                x = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2;\r\n        }\r\n        return x\r\n    }\r\n\r\n    calcUnderflowY()\r\n    {\r\n        let y;\r\n        switch (this.underflowY)\r\n        {\r\n            case -1:\r\n                y = 0;\r\n                break\r\n            case 1:\r\n                y = (this.parent.screenHeight - this.parent.screenWorldHeight);\r\n                break\r\n            default:\r\n                y = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2;\r\n        }\r\n        return y\r\n    }\r\n\r\n    bounce()\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n\r\n        let oob;\r\n        let decelerate = this.parent.plugins.get('decelerate');\r\n        if (decelerate && (decelerate.x || decelerate.y))\r\n        {\r\n            if ((decelerate.x && decelerate.percentChangeX === decelerate.options.friction) || (decelerate.y && decelerate.percentChangeY === decelerate.options.friction))\r\n            {\r\n                oob = this.parent.OOB();\r\n                if ((oob.left && this.left) || (oob.right && this.right))\r\n                {\r\n                    decelerate.percentChangeX = this.options.friction;\r\n                }\r\n                if ((oob.top && this.top) || (oob.bottom && this.bottom))\r\n                {\r\n                    decelerate.percentChangeY = this.options.friction;\r\n                }\r\n            }\r\n        }\r\n        const drag = this.parent.plugins.get('drag') || {};\r\n        const pinch = this.parent.plugins.get('pinch') || {};\r\n        decelerate = decelerate || {};\r\n        if (!drag.active && !pinch.active && ((!this.toX || !this.toY) && (!decelerate.x || !decelerate.y)))\r\n        {\r\n            oob = oob || this.parent.OOB();\r\n            const point = oob.cornerPoint;\r\n            if (!this.toX && !decelerate.x)\r\n            {\r\n                let x = null;\r\n                if (oob.left && this.left)\r\n                {\r\n                    x = (this.parent.screenWorldWidth < this.parent.screenWidth) ? this.calcUnderflowX() : 0;\r\n                }\r\n                else if (oob.right && this.right)\r\n                {\r\n                    x = (this.parent.screenWorldWidth < this.parent.screenWidth) ? this.calcUnderflowX() : -point.x;\r\n                }\r\n                if (x !== null && this.parent.x !== x)\r\n                {\r\n                    this.toX = { time: 0, start: this.parent.x, delta: x - this.parent.x, end: x };\r\n                    this.parent.emit('bounce-x-start', this.parent);\r\n                }\r\n            }\r\n            if (!this.toY && !decelerate.y)\r\n            {\r\n                let y = null;\r\n                if (oob.top && this.top)\r\n                {\r\n                    y = (this.parent.screenWorldHeight < this.parent.screenHeight) ? this.calcUnderflowY() : 0;\r\n                }\r\n                else if (oob.bottom && this.bottom)\r\n                {\r\n                    y = (this.parent.screenWorldHeight < this.parent.screenHeight) ? this.calcUnderflowY() : -point.y;\r\n                }\r\n                if (y !== null && this.parent.y !== y)\r\n                {\r\n                    this.toY = { time: 0, start: this.parent.y, delta: y - this.parent.y, end: y };\r\n                    this.parent.emit('bounce-y-start', this.parent);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    reset()\r\n    {\r\n        this.toX = this.toY = null;\r\n    }\r\n}\n\n/**\r\n * @typedef SnapOptions\r\n * @property {boolean} [topLeft] snap to the top-left of viewport instead of center\r\n * @property {number} [friction=0.8] friction/frame to apply if decelerate is active\r\n * @property {number} [time=1000]\r\n * @property {string|function} [ease=easeInOutSine] ease function or name (see http://easings.net/ for supported names)\r\n * @property {boolean} [interrupt=true] pause snapping with any user input on the viewport\r\n * @property {boolean} [removeOnComplete] removes this plugin after snapping is complete\r\n * @property {boolean} [removeOnInterrupt] removes this plugin if interrupted by any user input\r\n * @property {boolean} [forceStart] starts the snap immediately regardless of whether the viewport is at the desired location\r\n */\r\n\r\nconst snapOptions = {\r\n    topLeft: false,\r\n    friction: 0.8,\r\n    time: 1000,\r\n    ease: 'easeInOutSine',\r\n    interrupt: true,\r\n    removeOnComplete: false,\r\n    removeOnInterrupt: false,\r\n    forceStart: false\r\n};\r\n\r\nclass Snap extends Plugin\r\n{\r\n    /**\r\n     * @private\r\n     * @param {Viewport} parent\r\n     * @param {number} x\r\n     * @param {number} y\r\n     * @param {SnapOptions} [options]\r\n     * @event snap-start(Viewport) emitted each time a snap animation starts\r\n     * @event snap-restart(Viewport) emitted each time a snap resets because of a change in viewport size\r\n     * @event snap-end(Viewport) emitted each time snap reaches its target\r\n     * @event snap-remove(Viewport) emitted if snap plugin is removed\r\n     */\r\n    constructor(parent, x, y, options={})\r\n    {\r\n        super(parent);\r\n        this.options = Object.assign({}, snapOptions, options);\r\n        this.ease = ease(options.ease, 'easeInOutSine');\r\n        this.x = x;\r\n        this.y = y;\r\n        if (this.options.forceStart)\r\n        {\r\n            this.snapStart();\r\n        }\r\n    }\r\n\r\n    snapStart()\r\n    {\r\n        this.percent = 0;\r\n        this.snapping = { time: 0 };\r\n        const current = this.options.topLeft ? this.parent.corner : this.parent.center;\r\n        this.deltaX = this.x - current.x;\r\n        this.deltaY = this.y - current.y;\r\n        this.startX = current.x;\r\n        this.startY = current.y;\r\n        this.parent.emit('snap-start', this.parent);\r\n    }\r\n\r\n    wheel()\r\n    {\r\n        if (this.options.removeOnInterrupt)\r\n        {\r\n            this.parent.plugins.remove('snap');\r\n        }\r\n    }\r\n\r\n    down()\r\n    {\r\n        if (this.options.removeOnInterrupt)\r\n        {\r\n            this.parent.plugins.remove('snap');\r\n        }\r\n        else if (this.options.interrupt)\r\n        {\r\n            this.snapping = null;\r\n        }\r\n    }\r\n\r\n    up()\r\n    {\r\n        if (this.parent.input.count() === 0)\r\n        {\r\n            const decelerate = this.parent.plugins.get('decelerate');\r\n            if (decelerate && (decelerate.x || decelerate.y))\r\n            {\r\n                decelerate.percentChangeX = decelerate.percentChangeY = this.options.friction;\r\n            }\r\n        }\r\n    }\r\n\r\n    update(elapsed)\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n        if (this.options.interrupt && this.parent.input.count() !== 0)\r\n        {\r\n            return\r\n        }\r\n        if (!this.snapping)\r\n        {\r\n            const current = this.options.topLeft ? this.parent.corner : this.parent.center;\r\n            if (current.x !== this.x || current.y !== this.y)\r\n            {\r\n                this.snapStart();\r\n            }\r\n        }\r\n        else\r\n        {\r\n            const snapping = this.snapping;\r\n            snapping.time += elapsed;\r\n            let finished, x, y;\r\n            if (snapping.time > this.options.time)\r\n            {\r\n                finished = true;\r\n                x = this.startX + this.deltaX;\r\n                y = this.startY + this.deltaY;\r\n            }\r\n            else\r\n            {\r\n                const percent = this.ease(snapping.time, 0, 1, this.options.time);\r\n                x = this.startX + this.deltaX * percent;\r\n                y = this.startY + this.deltaY * percent;\r\n            }\r\n            if (this.options.topLeft)\r\n            {\r\n                this.parent.moveCorner(x, y);\r\n            }\r\n            else\r\n            {\r\n                this.parent.moveCenter(x, y);\r\n            }\r\n            this.parent.emit('moved', { viewport: this.parent, type: 'snap' });\r\n            if (finished)\r\n            {\r\n                if (this.options.removeOnComplete)\r\n                {\r\n                    this.parent.plugins.remove('snap');\r\n                }\r\n                this.parent.emit('snap-end', this.parent);\r\n                this.snapping = null;\r\n            }\r\n        }\r\n    }\r\n}\n\n/**\r\n * @typedef {Object} SnapZoomOptions\r\n * @property {number} [width=0] the desired width to snap (to maintain aspect ratio, choose only width or height)\r\n * @property {number} [height=0] the desired height to snap (to maintain aspect ratio, choose only width or height)\r\n * @property {number} [time=1000] time for snapping in ms\r\n * @property {(string|function)} [ease=easeInOutSine] ease function or name (see http://easings.net/ for supported names)\r\n * @property {PIXI.Point} [center] place this point at center during zoom instead of center of the viewport\r\n * @property {boolean} [interrupt=true] pause snapping with any user input on the viewport\r\n * @property {boolean} [removeOnComplete] removes this plugin after snapping is complete\r\n * @property {boolean} [removeOnInterrupt] removes this plugin if interrupted by any user input\r\n * @property {boolean} [forceStart] starts the snap immediately regardless of whether the viewport is at the desired zoom\r\n * @property {boolean} [noMove] zoom but do not move\r\n */\r\n\r\nconst snapZoomOptions = {\r\n    width: 0,\r\n    height: 0,\r\n    time: 1000,\r\n    ease: 'easeInOutSine',\r\n    center: null,\r\n    interrupt: true,\r\n    removeOnComplete: false,\r\n    removeOnInterrupts: false,\r\n    forceStart: false,\r\n    noMove: false\r\n};\r\nclass SnapZoom extends Plugin\r\n{\r\n    /**\r\n     * @param {Viewport} parent\r\n     * @param {SnapZoomOptions} options\r\n     * @event snap-zoom-start(Viewport) emitted each time a fit animation starts\r\n     * @event snap-zoom-end(Viewport) emitted each time fit reaches its target\r\n     * @event snap-zoom-end(Viewport) emitted each time fit reaches its target\r\n     */\r\n    constructor(parent, options={})\r\n    {\r\n        super(parent);\r\n        this.options = Object.assign({}, snapZoomOptions, options);\r\n        this.ease = ease(this.options.ease);\r\n        if (this.options.width > 0)\r\n        {\r\n            this.x_scale = parent.screenWidth / this.options.width;\r\n        }\r\n        if (this.options.height > 0)\r\n        {\r\n            this.y_scale = parent.screenHeight / this.options.height;\r\n        }\r\n        this.xIndependent = this.x_scale ? true : false;\r\n        this.yIndependent = this.y_scale ? true : false;\r\n        this.x_scale = this.xIndependent ? this.x_scale : this.y_scale;\r\n        this.y_scale = this.yIndependent ? this.y_scale : this.x_scale;\r\n\r\n        if (this.options.time === 0)\r\n        {\r\n            parent.container.scale.x = this.x_scale;\r\n            parent.container.scale.y = this.y_scale;\r\n            if (this.options.removeOnComplete)\r\n            {\r\n                this.parent.plugins.remove('snap-zoom');\r\n            }\r\n        }\r\n        else if (options.forceStart)\r\n        {\r\n            this.createSnapping();\r\n        }\r\n    }\r\n\r\n    createSnapping()\r\n    {\r\n        const scale = this.parent.scale;\r\n        this.snapping = { time: 0, startX: scale.x, startY: scale.y, deltaX: this.x_scale - scale.x, deltaY: this.y_scale - scale.y };\r\n        this.parent.emit('snap-zoom-start', this.parent);\r\n    }\r\n\r\n    resize()\r\n    {\r\n        this.snapping = null;\r\n\r\n        if (this.options.width > 0)\r\n        {\r\n            this.x_scale = this.parent._screenWidth / this.options.width;\r\n        }\r\n        if (this.options.height > 0)\r\n        {\r\n            this.y_scale = this.parent._screenHeight / this.options.height;\r\n        }\r\n        this.x_scale = this.xIndependent ? this.x_scale : this.y_scale;\r\n        this.y_scale = this.yIndependent ? this.y_scale : this.x_scale;\r\n    }\r\n\r\n    reset()\r\n    {\r\n        this.snapping = null;\r\n    }\r\n\r\n    wheel()\r\n    {\r\n        if (this.options.removeOnInterrupt)\r\n        {\r\n            this.parent.plugins.remove('snap-zoom');\r\n        }\r\n    }\r\n\r\n    down()\r\n    {\r\n        if (this.options.removeOnInterrupt)\r\n        {\r\n            this.parent.plugins.remove('snap-zoom');\r\n        }\r\n        else if (this.options.interrupt)\r\n        {\r\n            this.snapping = null;\r\n        }\r\n    }\r\n\r\n    update(elapsed)\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n        if (this.options.interrupt && this.parent.input.count() !== 0)\r\n        {\r\n            return\r\n        }\r\n\r\n        let oldCenter;\r\n        if (!this.options.center && !this.options.noMove)\r\n        {\r\n            oldCenter = this.parent.center;\r\n        }\r\n        if (!this.snapping)\r\n        {\r\n            if (this.parent.scale.x !== this.x_scale || this.parent.scale.y !== this.y_scale)\r\n            {\r\n                this.createSnapping();\r\n            }\r\n        }\r\n        else if (this.snapping)\r\n        {\r\n            const snapping = this.snapping;\r\n            snapping.time += elapsed;\r\n            if (snapping.time >= this.options.time)\r\n            {\r\n                this.parent.scale.set(this.x_scale, this.y_scale);\r\n                if (this.options.removeOnComplete)\r\n                {\r\n                    this.parent.plugins.remove('snap-zoom');\r\n                }\r\n                this.parent.emit('snap-zoom-end', this.parent);\r\n                this.snapping = null;\r\n            }\r\n            else\r\n            {\r\n                const snapping = this.snapping;\r\n                this.parent.scale.x = this.ease(snapping.time, snapping.startX, snapping.deltaX, this.options.time);\r\n                this.parent.scale.y = this.ease(snapping.time, snapping.startY, snapping.deltaY, this.options.time);\r\n            }\r\n            const clamp = this.parent.plugins.get('clamp-zoom');\r\n            if (clamp)\r\n            {\r\n                clamp.clamp();\r\n            }\r\n            if (!this.options.noMove)\r\n            {\r\n                if (!this.options.center)\r\n                {\r\n                    this.parent.moveCenter(oldCenter);\r\n                }\r\n                else\r\n                {\r\n                    this.parent.moveCenter(this.options.center);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    resume()\r\n    {\r\n        this.snapping = null;\r\n        super.resume();\r\n    }\r\n}\n\n/**\r\n * @typedef {object} FollowOptions\r\n * @property {number} [speed=0] to follow in pixels/frame (0=teleport to location)\r\n * @property {number} [acceleration] set acceleration to accelerate and decelerate at this rate; speed cannot be 0 to use acceleration\r\n * @property {number} [radius] radius (in world coordinates) of center circle where movement is allowed without moving the viewport\r\n */\r\n\r\nconst followOptions = {\r\n    speed: 0,\r\n    acceleration: null,\r\n    radius: null\r\n};\r\n\r\nclass Follow extends Plugin\r\n{\r\n    /**\r\n     * @private\r\n     * @param {Viewport} parent\r\n     * @param {PIXI.DisplayObject} target to follow\r\n     * @param {FollowOptions} [options]\r\n     */\r\n    constructor(parent, target, options = {})\r\n    {\r\n        super(parent);\r\n        this.target = target;\r\n        this.options = Object.assign({}, followOptions, options);\r\n        this.velocity = { x: 0, y: 0 };\r\n    }\r\n\r\n    update(elapsed)\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n\r\n        const center = this.parent.center;\r\n        let toX = this.target.x,\r\n            toY = this.target.y;\r\n        if (this.options.radius)\r\n        {\r\n            const distance = Math.sqrt(Math.pow(this.target.y - center.y, 2) + Math.pow(this.target.x - center.x, 2));\r\n            if (distance > this.options.radius)\r\n            {\r\n                const angle = Math.atan2(this.target.y - center.y, this.target.x - center.x);\r\n                toX = this.target.x - Math.cos(angle) * this.options.radius;\r\n                toY = this.target.y - Math.sin(angle) * this.options.radius;\r\n            }\r\n            else\r\n            {\r\n                return\r\n            }\r\n        }\r\n\r\n        const deltaX = toX - center.x;\r\n        const deltaY = toY - center.y;\r\n        if (deltaX || deltaY)\r\n        {\r\n            if (this.options.speed)\r\n            {\r\n                if (this.options.acceleration)\r\n                {\r\n                    const angle = Math.atan2(toY - center.y, toX - center.x);\r\n                    const distance = Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\r\n                    if (distance)\r\n                    {\r\n                        const decelerationDistance = (Math.pow(this.velocity.x, 2) + Math.pow(this.velocity.y, 2)) / (2 * this.options.acceleration);\r\n                        if (distance > decelerationDistance)\r\n                        {\r\n                            this.velocity = {\r\n                                x: Math.min(this.velocity.x + this.options.acceleration * elapsed, this.options.speed),\r\n                                y: Math.min(this.velocity.y + this.options.acceleration * elapsed, this.options.speed)\r\n                            };\r\n                        }\r\n                        else\r\n                        {\r\n                            this.velocity = {\r\n                                x: Math.max(this.velocity.x - this.options.acceleration * this.options.speed, 0),\r\n                                y: Math.max(this.velocity.y - this.options.acceleration * this.options.speed, 0)\r\n                            };\r\n                        }\r\n                        const changeX = Math.cos(angle) * this.velocity.x;\r\n                        const changeY = Math.sin(angle) * this.velocity.y;\r\n                        const x = Math.abs(changeX) > Math.abs(deltaX) ? toX : center.x + changeX;\r\n                        const y = Math.abs(changeY) > Math.abs(deltaY) ? toY : center.y + changeY;\r\n                        this.parent.moveCenter(x, y);\r\n                        this.parent.emit('moved', { viewport: this.parent, type: 'follow' });\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    const angle = Math.atan2(toY - center.y, toX - center.x);\r\n                    const changeX = Math.cos(angle) * this.options.speed;\r\n                    const changeY = Math.sin(angle) * this.options.speed;\r\n                    const x = Math.abs(changeX) > Math.abs(deltaX) ? toX : center.x + changeX;\r\n                    const y = Math.abs(changeY) > Math.abs(deltaY) ? toY : center.y + changeY;\r\n                    this.parent.moveCenter(x, y);\r\n                    this.parent.emit('moved', { viewport: this.parent, type: 'follow' });\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this.parent.moveCenter(toX, toY);\r\n                this.parent.emit('moved', { viewport: this.parent, type: 'follow' });\r\n            }\r\n        }\r\n    }\r\n}\n\n/**\r\n * @typedef WheelOptions\r\n * @property {number} [percent=0.1] percent to scroll with each spin\r\n * @property {number} [smooth] smooth the zooming by providing the number of frames to zoom between wheel spins\r\n * @property {boolean} [interrupt=true] stop smoothing with any user input on the viewport\r\n * @property {boolean} [reverse] reverse the direction of the scroll\r\n * @property {PIXI.Point} [center] place this point at center during zoom instead of current mouse position\r\n */\r\n\r\nconst wheelOptions = {\r\n    percent: 0.1,\r\n    smooth: false,\r\n    interrupt: true,\r\n    reverse: false,\r\n    center: null\r\n};\r\n\r\nclass Wheel extends Plugin\r\n{\r\n    /**\r\n     * @private\r\n     * @param {Viewport} parent\r\n     * @param {WheelOptions} [options]\r\n     * @event wheel({wheel: {dx, dy, dz}, event, viewport})\r\n     */\r\n    constructor(parent, options = {})\r\n    {\r\n        super(parent);\r\n        this.options = Object.assign({}, wheelOptions, options);\r\n    }\r\n\r\n    down()\r\n    {\r\n        if (this.options.interrupt)\r\n        {\r\n            this.smoothing = null;\r\n        }\r\n    }\r\n\r\n    update()\r\n    {\r\n        if (this.smoothing)\r\n        {\r\n            const point = this.smoothingCenter;\r\n            const change = this.smoothing;\r\n            let oldPoint;\r\n            if (!this.options.center)\r\n            {\r\n                oldPoint = this.parent.toLocal(point);\r\n            }\r\n            this.parent.scale.x += change.x;\r\n            this.parent.scale.y += change.y;\r\n            this.parent.emit('zoomed', { viewport: this.parent, type: 'wheel' });\r\n            const clamp = this.parent.plugins.get('clamp-zoom');\r\n            if (clamp)\r\n            {\r\n                clamp.clamp();\r\n            }\r\n            if (this.options.center)\r\n            {\r\n                this.parent.moveCenter(this.options.center);\r\n            }\r\n            else\r\n            {\r\n                const newPoint = this.parent.toGlobal(oldPoint);\r\n                this.parent.x += point.x - newPoint.x;\r\n                this.parent.y += point.y - newPoint.y;\r\n            }\r\n            this.smoothingCount++;\r\n            if (this.smoothingCount >= this.options.smooth)\r\n            {\r\n                this.smoothing = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    wheel(e)\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n\r\n        let point = this.parent.input.getPointerPosition(e);\r\n        const sign = this.options.reverse ? -1 : 1;\r\n        const step = sign * -e.deltaY * (e.deltaMode ? 120 : 1) / 500;\r\n        const change = Math.pow(2, (1 + this.options.percent) * step);\r\n        if (this.options.smooth)\r\n        {\r\n            const original = {\r\n                x: this.smoothing ? this.smoothing.x * (this.options.smooth - this.smoothingCount) : 0,\r\n                y: this.smoothing ? this.smoothing.y * (this.options.smooth - this.smoothingCount) : 0\r\n            };\r\n            this.smoothing = {\r\n                x: ((this.parent.scale.x + original.x) * change - this.parent.scale.x) / this.options.smooth,\r\n                y: ((this.parent.scale.y + original.y) * change - this.parent.scale.y) / this.options.smooth\r\n            };\r\n            this.smoothingCount = 0;\r\n            this.smoothingCenter = point;\r\n        }\r\n        else\r\n        {\r\n            let oldPoint;\r\n            if (!this.options.center)\r\n            {\r\n                oldPoint = this.parent.toLocal(point);\r\n            }\r\n            this.parent.scale.x *= change;\r\n            this.parent.scale.y *= change;\r\n            this.parent.emit('zoomed', { viewport: this.parent, type: 'wheel' });\r\n            const clamp = this.parent.plugins.get('clamp-zoom');\r\n            if (clamp)\r\n            {\r\n                clamp.clamp();\r\n            }\r\n            if (this.options.center)\r\n            {\r\n                this.parent.moveCenter(this.options.center);\r\n            }\r\n            else\r\n            {\r\n                const newPoint = this.parent.toGlobal(oldPoint);\r\n                this.parent.x += point.x - newPoint.x;\r\n                this.parent.y += point.y - newPoint.y;\r\n            }\r\n        }\r\n        this.parent.emit('moved', { viewport: this.parent, type: 'wheel' });\r\n        this.parent.emit('wheel', { wheel: { dx: e.deltaX, dy: e.deltaY, dz: e.deltaZ }, event: e, viewport: this.parent });\r\n        if (!this.parent.options.passiveWheel)\r\n        {\r\n            return true\r\n        }\r\n    }\r\n}\n\n/**\r\n * @typedef MouseEdgesOptions\r\n * @property {number} [radius] distance from center of screen in screen pixels\r\n * @property {number} [distance] distance from all sides in screen pixels\r\n * @property {number} [top] alternatively, set top distance (leave unset for no top scroll)\r\n * @property {number} [bottom] alternatively, set bottom distance (leave unset for no top scroll)\r\n * @property {number} [left] alternatively, set left distance (leave unset for no top scroll)\r\n * @property {number} [right] alternatively, set right distance (leave unset for no top scroll)\r\n * @property {number} [speed=8] speed in pixels/frame to scroll viewport\r\n * @property {boolean} [reverse] reverse direction of scroll\r\n * @property {boolean} [noDecelerate] don't use decelerate plugin even if it's installed\r\n * @property {boolean} [linear] if using radius, use linear movement (+/- 1, +/- 1) instead of angled movement (Math.cos(angle from center), Math.sin(angle from center))\r\n * @property {boolean} [allowButtons] allows plugin to continue working even when there's a mousedown event\r\n */\r\n\r\nconst mouseEdgesOptions = {\r\n    radius: null,\r\n    distance: null,\r\n    top: null,\r\n    bottom: null,\r\n    left: null,\r\n    right: null,\r\n    speed: 8,\r\n    reverse: false,\r\n    noDecelerate: false,\r\n    linear: false,\r\n    allowButtons: false\r\n};\r\n\r\nclass MouseEdges extends Plugin\r\n{\r\n    /**\r\n     * Scroll viewport when mouse hovers near one of the edges.\r\n     * @private\r\n     * @param {Viewport} parent\r\n     * @param {MouseEdgeOptions} [options]\r\n     * @event mouse-edge-start(Viewport) emitted when mouse-edge starts\r\n     * @event mouse-edge-end(Viewport) emitted when mouse-edge ends\r\n     */\r\n    constructor(parent, options={})\r\n    {\r\n        super(parent);\r\n        this.options = Object.assign({}, mouseEdgesOptions, options);\r\n        this.reverse = this.options.reverse ? 1 : -1;\r\n        this.radiusSquared = Math.pow(this.options.radius, 2);\r\n        this.resize();\r\n    }\r\n\r\n    resize()\r\n    {\r\n        const distance = this.options.distance;\r\n        if (distance !== null)\r\n        {\r\n            this.left = distance;\r\n            this.top = distance;\r\n            this.right = this.parent.worldScreenWidth - distance;\r\n            this.bottom = this.parent.worldScreenHeight - distance;\r\n        }\r\n        else if (!this.radius)\r\n        {\r\n            this.left = this.options.left;\r\n            this.top = this.options.top;\r\n            this.right = this.options.right === null ? null : this.parent.worldScreenWidth - this.options.right;\r\n            this.bottom = this.options.bottom === null ? null : this.parent.worldScreenHeight - this.options.bottom;\r\n        }\r\n    }\r\n\r\n    down()\r\n    {\r\n        if (!this.options.allowButtons)\r\n        {\r\n            this.horizontal = this.vertical = null;\r\n        }\r\n    }\r\n\r\n    move(event)\r\n    {\r\n        if ((event.data.pointerType !== 'mouse' && event.data.identifier !== 1) || (!this.options.allowButtons && event.data.buttons !== 0))\r\n        {\r\n            return\r\n        }\r\n        const x = event.data.global.x;\r\n        const y = event.data.global.y;\r\n\r\n        if (this.radiusSquared)\r\n        {\r\n            const center = this.parent.toScreen(this.parent.center);\r\n            const distance = Math.pow(center.x - x, 2) + Math.pow(center.y - y, 2);\r\n            if (distance >= this.radiusSquared)\r\n            {\r\n                const angle = Math.atan2(center.y - y, center.x - x);\r\n                if (this.options.linear)\r\n                {\r\n                    this.horizontal = Math.round(Math.cos(angle)) * this.options.speed * this.reverse * (60 / 1000);\r\n                    this.vertical = Math.round(Math.sin(angle)) * this.options.speed * this.reverse * (60 / 1000);\r\n                }\r\n                else\r\n                {\r\n                    this.horizontal = Math.cos(angle) * this.options.speed * this.reverse * (60 / 1000);\r\n                    this.vertical = Math.sin(angle) * this.options.speed * this.reverse * (60 / 1000);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (this.horizontal)\r\n                {\r\n                    this.decelerateHorizontal();\r\n                }\r\n                if (this.vertical)\r\n                {\r\n                    this.decelerateVertical();\r\n                }\r\n                this.horizontal = this.vertical = 0;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if (this.left !== null && x < this.left)\r\n            {\r\n                this.horizontal = 1 * this.reverse * this.options.speed * (60 / 1000);\r\n            }\r\n            else if (this.right !== null && x > this.right)\r\n            {\r\n                this.horizontal = -1 * this.reverse * this.options.speed * (60 / 1000);\r\n            }\r\n            else\r\n            {\r\n                this.decelerateHorizontal();\r\n                this.horizontal = 0;\r\n            }\r\n            if (this.top !== null && y < this.top)\r\n            {\r\n                this.vertical = 1 * this.reverse * this.options.speed * (60 / 1000);\r\n            }\r\n            else if (this.bottom !== null && y > this.bottom)\r\n            {\r\n                this.vertical = -1 * this.reverse * this.options.speed * (60 / 1000);\r\n            }\r\n            else\r\n            {\r\n                this.decelerateVertical();\r\n                this.vertical = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    decelerateHorizontal()\r\n    {\r\n        const decelerate = this.parent.plugins.get('decelerate');\r\n        if (this.horizontal && decelerate && !this.options.noDecelerate)\r\n        {\r\n            decelerate.activate({ x: (this.horizontal * this.options.speed * this.reverse) / (1000 / 60) });\r\n        }\r\n    }\r\n\r\n    decelerateVertical()\r\n    {\r\n        const decelerate = this.parent.plugins.get('decelerate');\r\n        if (this.vertical && decelerate && !this.options.noDecelerate)\r\n        {\r\n            decelerate.activate({ y: (this.vertical * this.options.speed * this.reverse) / (1000 / 60)});\r\n        }\r\n    }\r\n\r\n    up()\r\n    {\r\n        if (this.horizontal)\r\n        {\r\n            this.decelerateHorizontal();\r\n        }\r\n        if (this.vertical)\r\n        {\r\n            this.decelerateVertical();\r\n        }\r\n        this.horizontal = this.vertical = null;\r\n    }\r\n\r\n    update()\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n\r\n        if (this.horizontal || this.vertical)\r\n        {\r\n            const center = this.parent.center;\r\n            if (this.horizontal)\r\n            {\r\n                center.x += this.horizontal * this.options.speed;\r\n            }\r\n            if (this.vertical)\r\n            {\r\n                center.y += this.vertical * this.options.speed;\r\n            }\r\n            this.parent.moveCenter(center);\r\n            this.parent.emit('moved', { viewport: this.parent, type: 'mouse-edges' });\r\n        }\r\n    }\r\n}\n\n/**\r\n * @typedef {object} ViewportOptions\r\n * @property {number} [screenWidth=window.innerWidth]\r\n * @property {number} [screenHeight=window.innerHeight]\r\n * @property {number} [worldWidth=this.width]\r\n * @property {number} [worldHeight=this.height]\r\n * @property {number} [threshold=5] number of pixels to move to trigger an input event (e.g., drag, pinch) or disable a clicked event\r\n * @property {boolean} [passiveWheel=true] whether the 'wheel' event is set to passive (note: if false, e.preventDefault() will be called when wheel is used over the viewport)\r\n * @property {boolean} [stopPropagation=false] whether to stopPropagation of events that impact the viewport (except wheel events, see options.passiveWheel)\r\n * @property {HitArea} [forceHitArea] change the default hitArea from world size to a new value\r\n * @property {boolean} [noTicker] set this if you want to manually call update() function on each frame\r\n * @property {PIXI.Ticker} [ticker=PIXI.Ticker.shared] use this PIXI.ticker for updates\r\n * @property {PIXI.InteractionManager} [interaction=null] InteractionManager, available from instantiated WebGLRenderer/CanvasRenderer.plugins.interaction - used to calculate pointer postion relative to canvas location on screen\r\n * @property {HTMLElement} [divWheel=document.body] div to attach the wheel event\r\n * @property {boolean} [disableOnContextMenu] remove oncontextmenu=() => {} from the divWheel element\r\n */\r\n\r\nconst viewportOptions = {\r\n    screenWidth: window.innerWidth,\r\n    screenHeight: window.innerHeight,\r\n    worldWidth: null,\r\n    worldHeight: null,\r\n    threshold: 5,\r\n    passiveWheel: true,\r\n    stopPropagation: false,\r\n    forceHitArea: null,\r\n    noTicker: false,\r\n    interaction: null,\r\n    disableOnContextMenu: false\r\n};\r\n\r\n/**\r\n * Main class to use when creating a Viewport\r\n */\r\nclass Viewport extends Container\r\n{\r\n    /**\r\n     * @param {ViewportOptions} [options]\r\n     * @fires clicked\r\n     * @fires drag-start\r\n     * @fires drag-end\r\n     * @fires drag-remove\r\n     * @fires pinch-start\r\n     * @fires pinch-end\r\n     * @fires pinch-remove\r\n     * @fires snap-start\r\n     * @fires snap-end\r\n     * @fires snap-remove\r\n     * @fires snap-zoom-start\r\n     * @fires snap-zoom-end\r\n     * @fires snap-zoom-remove\r\n     * @fires bounce-x-start\r\n     * @fires bounce-x-end\r\n     * @fires bounce-y-start\r\n     * @fires bounce-y-end\r\n     * @fires bounce-remove\r\n     * @fires wheel\r\n     * @fires wheel-remove\r\n     * @fires wheel-scroll\r\n     * @fires wheel-scroll-remove\r\n     * @fires mouse-edge-start\r\n     * @fires mouse-edge-end\r\n     * @fires mouse-edge-remove\r\n     * @fires moved\r\n     * @fires moved-end\r\n     * @fires zoomed\r\n     * @fires zoomed-end\r\n     * @fires frame-end\r\n     */\r\n    constructor(options = {})\r\n    {\r\n        super();\r\n        this.options = Object.assign({}, viewportOptions, options);\r\n\r\n        // needed to pull this out of viewportOptions because of pixi.js v4 support (which changed from PIXI.ticker.shared to PIXI.Ticker.shared...sigh)\r\n        if (options.ticker)\r\n        {\r\n            this.options.ticker = options.ticker;\r\n        }\r\n        else\r\n        {\r\n            // to avoid Rollup transforming our import, save pixi namespace in a variable\r\n            // from here: https://github.com/pixijs/pixi.js/issues/5757\r\n            let ticker;\r\n            const pixiNS = PIXI;\r\n            if (parseInt(/^(\\d+)\\./.exec(VERSION)[1]) < 5)\r\n            {\r\n                ticker = pixiNS.ticker.shared;\r\n            }\r\n            else\r\n            {\r\n                ticker = pixiNS.Ticker.shared;\r\n            }\r\n            this.options.ticker = options.ticker || ticker;\r\n        }\r\n\r\n        /** @type {number} */\r\n        this.screenWidth = this.options.screenWidth;\r\n\r\n        /** @type {number} */\r\n        this.screenHeight = this.options.screenHeight;\r\n\r\n        this._worldWidth = this.options.worldWidth;\r\n        this._worldHeight = this.options.worldHeight;\r\n        this.forceHitArea = this.options.forceHitArea;\r\n\r\n        /**\r\n         * number of pixels to move to trigger an input event (e.g., drag, pinch) or disable a clicked event\r\n         * @type {number}\r\n         */\r\n        this.threshold = this.options.threshold;\r\n\r\n        this.options.divWheel = this.options.divWheel || document.body;\r\n\r\n        if (this.options.disableOnContextMenu)\r\n        {\r\n            this.options.divWheel.oncontextmenu = e => e.preventDefault();\r\n        }\r\n\r\n        if (!this.options.noTicker)\r\n        {\r\n            this.tickerFunction = () => this.update(this.options.ticker.elapsedMS);\r\n            this.options.ticker.add(this.tickerFunction);\r\n        }\r\n\r\n        this.input = new InputManager(this);\r\n\r\n        /**\r\n         * Use this to add user plugins or access existing plugins (e.g., to pause, resume, or remove them)\r\n         * @type {PluginManager}\r\n         */\r\n        this.plugins = new PluginManager(this);\r\n    }\r\n\r\n    /**\r\n     * overrides PIXI.Container's destroy to also remove the 'wheel' and PIXI.Ticker listeners\r\n     * @param {(object|boolean)} [options] - Options parameter. A boolean will act as if all options have been set to that value\r\n     * @param {boolean} [options.children=false] - if set to true, all the children will have their destroy method called as well. 'options' will be passed on to those calls.\r\n     * @param {boolean} [options.texture=false] - Only used for child Sprites if options.children is set to true. Should it destroy the texture of the child sprite\r\n     * @param {boolean} [options.baseTexture=false] - Only used for child Sprites if options.children is set to true. Should it destroy the base texture of the child sprite     */\r\n    destroy(options)\r\n    {\r\n        if (!this.options.noTicker)\r\n        {\r\n            this.options.ticker.remove(this.tickerFunction);\r\n        }\r\n        this.input.destroy();\r\n        super.destroy(options);\r\n    }\r\n\r\n    /**\r\n     * update viewport on each frame\r\n     * by default, you do not need to call this unless you set options.noTicker=true\r\n     * @param {number} elapsed time in milliseconds since last update\r\n     */\r\n    update(elapsed)\r\n    {\r\n        if (!this.pause)\r\n        {\r\n            this.plugins.update(elapsed);\r\n\r\n            if (this.lastViewport)\r\n            {\r\n                // check for moved-end event\r\n                if (this.lastViewport.x !== this.x || this.lastViewport.y !== this.y)\r\n                {\r\n                    this.moving = true;\r\n                }\r\n                else\r\n                {\r\n                    if (this.moving)\r\n                    {\r\n                        this.emit('moved-end', this);\r\n                        this.moving = false;\r\n                    }\r\n                }\r\n                // check for zoomed-end event\r\n                if (this.lastViewport.scaleX !== this.scale.x || this.lastViewport.scaleY !== this.scale.y)\r\n                {\r\n                    this.zooming = true;\r\n                }\r\n                else\r\n                {\r\n                    if (this.zooming)\r\n                    {\r\n                        this.emit('zoomed-end', this);\r\n                        this.zooming = false;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!this.forceHitArea)\r\n            {\r\n                this._hitAreaDefault = new Rectangle(this.left, this.top, this.worldScreenWidth, this.worldScreenHeight);\r\n                this.hitArea = this._hitAreaDefault;\r\n            }\r\n\r\n            this._dirty = this._dirty || !this.lastViewport ||\r\n                this.lastViewport.x !== this.x || this.lastViewport.y !== this.y ||\r\n                this.lastViewport.scaleX !== this.scale.x || this.lastViewport.scaleY !== this.scale.y;\r\n\r\n            this.lastViewport = {\r\n                x: this.x,\r\n                y: this.y,\r\n                scaleX: this.scale.x,\r\n                scaleY: this.scale.y\r\n            };\r\n            this.emit('frame-end', this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * use this to set screen and world sizes--needed for pinch/wheel/clamp/bounce\r\n     * @param {number} [screenWidth=window.innerWidth]\r\n     * @param {number} [screenHeight=window.innerHeight]\r\n     * @param {number} [worldWidth]\r\n     * @param {number} [worldHeight]\r\n     */\r\n    resize(screenWidth = window.innerWidth, screenHeight = window.innerHeight, worldWidth, worldHeight)\r\n    {\r\n        this.screenWidth = screenWidth;\r\n        this.screenHeight = screenHeight;\r\n        if (typeof worldWidth !== 'undefined')\r\n        {\r\n            this._worldWidth = worldWidth;\r\n        }\r\n        if (typeof worldHeight !== 'undefined')\r\n        {\r\n            this._worldHeight = worldHeight;\r\n        }\r\n        this.plugins.resize();\r\n    }\r\n\r\n    /**\r\n     * world width in pixels\r\n     * @type {number}\r\n     */\r\n    get worldWidth()\r\n    {\r\n        if (this._worldWidth)\r\n        {\r\n            return this._worldWidth\r\n        }\r\n        else\r\n        {\r\n            return this.width / this.scale.x\r\n        }\r\n    }\r\n    set worldWidth(value)\r\n    {\r\n        this._worldWidth = value;\r\n        this.plugins.resize();\r\n    }\r\n\r\n    /**\r\n     * world height in pixels\r\n     * @type {number}\r\n     */\r\n    get worldHeight()\r\n    {\r\n        if (this._worldHeight)\r\n        {\r\n            return this._worldHeight\r\n        }\r\n        else\r\n        {\r\n            return this.height / this.scale.y\r\n        }\r\n    }\r\n    set worldHeight(value)\r\n    {\r\n        this._worldHeight = value;\r\n        this.plugins.resize();\r\n    }\r\n\r\n    /**\r\n     * get visible bounds of viewport\r\n     * @returns {PIXI.Rectangle}\r\n     */\r\n    getVisibleBounds()\r\n    {\r\n        return new Rectangle(this.left, this.top, this.worldScreenWidth, this.worldScreenHeight)\r\n    }\r\n\r\n    /**\r\n     * change coordinates from screen to world\r\n     * @param {(number|PIXI.Point)} x or point\r\n     * @param {number} [y]\r\n     * @return {PIXI.Point}\r\n     */\r\n    toWorld(x, y)\r\n    {\r\n        if (arguments.length === 2)\r\n        {\r\n            return this.toLocal(new Point(x, y))\r\n        }\r\n        else\r\n        {\r\n            return this.toLocal(x)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * change coordinates from world to screen\r\n     * @param {(number|PIXI.Point)} x or point\r\n     * @param {number} [y]\r\n     * @return {PIXI.Point}\r\n     */\r\n    toScreen(x, y)\r\n    {\r\n        if (arguments.length === 2)\r\n        {\r\n            return this.toGlobal(new Point(x, y))\r\n        }\r\n        else\r\n        {\r\n            return this.toGlobal(x)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * screen width in world coordinates\r\n     * @type {number}\r\n     */\r\n    get worldScreenWidth()\r\n    {\r\n        return this.screenWidth / this.scale.x\r\n    }\r\n\r\n    /**\r\n     * screen height in world coordinates\r\n     * @type {number}\r\n     */\r\n    get worldScreenHeight()\r\n    {\r\n        return this.screenHeight / this.scale.y\r\n    }\r\n\r\n    /**\r\n     * world width in screen coordinates\r\n     * @type {number}\r\n     */\r\n    get screenWorldWidth()\r\n    {\r\n        return this.worldWidth * this.scale.x\r\n    }\r\n\r\n    /**\r\n     * world height in screen coordinates\r\n     * @type {number}\r\n     */\r\n    get screenWorldHeight()\r\n    {\r\n        return this.worldHeight * this.scale.y\r\n    }\r\n\r\n    /**\r\n     * center of screen in world coordinates\r\n     * @type {PIXI.Point}\r\n     */\r\n    get center()\r\n    {\r\n        return new Point(this.worldScreenWidth / 2 - this.x / this.scale.x, this.worldScreenHeight / 2 - this.y / this.scale.y)\r\n    }\r\n    set center(value)\r\n    {\r\n        this.moveCenter(value);\r\n    }\r\n\r\n    /**\r\n     * move center of viewport to point\r\n     * @param {(number|PIXI.Point)} x or point\r\n     * @param {number} [y]\r\n     * @return {Viewport} this\r\n     */\r\n    moveCenter()\r\n    {\r\n        let x, y;\r\n        if (!isNaN(arguments[0]))\r\n        {\r\n            x = arguments[0];\r\n            y = arguments[1];\r\n        }\r\n        else\r\n        {\r\n            x = arguments[0].x;\r\n            y = arguments[0].y;\r\n        }\r\n        this.position.set((this.worldScreenWidth / 2 - x) * this.scale.x, (this.worldScreenHeight / 2 - y) * this.scale.y);\r\n        this.plugins.reset();\r\n        this.dirty = true;\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * top-left corner of Viewport\r\n     * @type {PIXI.Point}\r\n     */\r\n    get corner()\r\n    {\r\n        return new Point(-this.x / this.scale.x, -this.y / this.scale.y)\r\n    }\r\n    set corner(value)\r\n    {\r\n        this.moveCorner(value);\r\n    }\r\n\r\n    /**\r\n     * move viewport's top-left corner; also clamps and resets decelerate and bounce (as needed)\r\n     * @param {(number|PIXI.Point)} x or point\r\n     * @param {number} [y]\r\n     * @return {Viewport} this\r\n     */\r\n    moveCorner(x, y)\r\n    {\r\n        if (arguments.length === 1)\r\n        {\r\n            this.position.set(-x.x * this.scale.x, -x.y * this.scale.y);\r\n        }\r\n        else\r\n        {\r\n            this.position.set(-x * this.scale.x, -y * this.scale.y);\r\n        }\r\n        this.plugins.reset();\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * change zoom so the width fits in the viewport\r\n     * @param {number} [width=this.worldWidth] in world coordinates\r\n     * @param {boolean} [center] maintain the same center\r\n     * @param {boolean} [scaleY=true] whether to set scaleY=scaleX\r\n     * @param {boolean} [noClamp] whether to disable clamp-zoom\r\n     * @returns {Viewport} this\r\n     */\r\n    fitWidth(width, center, scaleY = true, noClamp)\r\n    {\r\n        let save;\r\n        if (center)\r\n        {\r\n            save = this.center;\r\n        }\r\n        this.scale.x = this.screenWidth / width;\r\n\r\n        if (scaleY)\r\n        {\r\n            this.scale.y = this.scale.x;\r\n        }\r\n\r\n        const clampZoom = this.plugins.get('clamp-zoom');\r\n        if (!noClamp && clampZoom)\r\n        {\r\n            clampZoom.clamp();\r\n        }\r\n\r\n        if (center)\r\n        {\r\n            this.moveCenter(save);\r\n        }\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * change zoom so the height fits in the viewport\r\n     * @param {number} [height=this.worldHeight] in world coordinates\r\n     * @param {boolean} [center] maintain the same center of the screen after zoom\r\n     * @param {boolean} [scaleX=true] whether to set scaleX = scaleY\r\n     * @param {boolean} [noClamp] whether to disable clamp-zoom\r\n     * @returns {Viewport} this\r\n     */\r\n    fitHeight(height, center, scaleX = true, noClamp)\r\n    {\r\n        let save;\r\n        if (center)\r\n        {\r\n            save = this.center;\r\n        }\r\n        this.scale.y = this.screenHeight / height;\r\n\r\n        if (scaleX)\r\n        {\r\n            this.scale.x = this.scale.y;\r\n        }\r\n\r\n        const clampZoom = this.plugins.get('clamp-zoom');\r\n        if (!noClamp && clampZoom)\r\n        {\r\n            clampZoom.clamp();\r\n        }\r\n\r\n        if (center)\r\n        {\r\n            this.moveCenter(save);\r\n        }\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * change zoom so it fits the entire world in the viewport\r\n     * @param {boolean} center maintain the same center of the screen after zoom\r\n     * @returns {Viewport} this\r\n     */\r\n    fitWorld(center)\r\n    {\r\n        let save;\r\n        if (center)\r\n        {\r\n            save = this.center;\r\n        }\r\n        this.scale.x = this.screenWidth / this.worldWidth;\r\n        this.scale.y = this.screenHeight / this.worldHeight;\r\n        if (this.scale.x < this.scale.y)\r\n        {\r\n            this.scale.y = this.scale.x;\r\n        }\r\n        else\r\n        {\r\n            this.scale.x = this.scale.y;\r\n        }\r\n\r\n        const clampZoom = this.plugins.get('clamp-zoom');\r\n        if (clampZoom)\r\n        {\r\n            clampZoom.clamp();\r\n        }\r\n\r\n        if (center)\r\n        {\r\n            this.moveCenter(save);\r\n        }\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * change zoom so it fits the size or the entire world in the viewport\r\n     * @param {boolean} [center] maintain the same center of the screen after zoom\r\n     * @param {number} [width=this.worldWidth] desired width\r\n     * @param {number} [height=this.worldHeight] desired height\r\n     * @returns {Viewport} this\r\n     */\r\n    fit(center, width = this.worldWidth, height = this.worldHeight)\r\n    {\r\n        let save;\r\n        if (center)\r\n        {\r\n            save = this.center;\r\n        }\r\n        this.scale.x = this.screenWidth / width;\r\n        this.scale.y = this.screenHeight / height;\r\n        if (this.scale.x < this.scale.y)\r\n        {\r\n            this.scale.y = this.scale.x;\r\n        }\r\n        else\r\n        {\r\n            this.scale.x = this.scale.y;\r\n        }\r\n        const clampZoom = this.plugins.get('clamp-zoom');\r\n        if (clampZoom)\r\n        {\r\n            clampZoom.clamp();\r\n        }\r\n        if (center)\r\n        {\r\n            this.moveCenter(save);\r\n        }\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * zoom viewport to specific value\r\n     * @param {number} scale value (e.g., 1 would be 100%, 0.25 would be 25%)\r\n     * @param {boolean} [center] maintain the same center of the screen after zoom\r\n     * @return {Viewport} this\r\n     */\r\n    setZoom(scale, center)\r\n    {\r\n        let save;\r\n        if (center)\r\n        {\r\n            save = this.center;\r\n        }\r\n        this.scale.set(scale);\r\n        const clampZoom = this.plugins.get('clamp-zoom');\r\n        if (clampZoom)\r\n        {\r\n            clampZoom.clamp();\r\n        }\r\n        if (center)\r\n        {\r\n            this.moveCenter(save);\r\n        }\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * zoom viewport by a certain percent (in both x and y direction)\r\n     * @param {number} percent change (e.g., 0.25 would increase a starting scale of 1.0 to 1.25)\r\n     * @param {boolean} [center] maintain the same center of the screen after zoom\r\n     * @return {Viewport} this\r\n     */\r\n    zoomPercent(percent, center)\r\n    {\r\n        return this.setZoom(this.scale.x + this.scale.x * percent, center)\r\n    }\r\n\r\n    /**\r\n     * zoom viewport by increasing/decreasing width by a certain number of pixels\r\n     * @param {number} change in pixels\r\n     * @param {boolean} [center] maintain the same center of the screen after zoom\r\n     * @return {Viewport} this\r\n     */\r\n    zoom(change, center)\r\n    {\r\n        this.fitWidth(change + this.worldScreenWidth, center);\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * changes scale of viewport and maintains center of viewport--same as calling setScale(scale, true)\r\n     * @type {number}\r\n     */\r\n    set scaled(scale)\r\n    {\r\n        this.setZoom(scale, true);\r\n    }\r\n    get scaled()\r\n    {\r\n        return this.scale.x\r\n    }\r\n\r\n    /**\r\n     * @param {SnapZoomOptions} options\r\n     */\r\n    snapZoom(options)\r\n    {\r\n        this.plugins.add('snap-zoom', new SnapZoom(this, options));\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * is container out of world bounds\r\n     * @returns {OutOfBounds}\r\n     */\r\n    OOB()\r\n    {\r\n        return {\r\n            left: this.left < 0,\r\n            right: this.right > this._worldWidth,\r\n            top: this.top < 0,\r\n            bottom: this.bottom > this._worldHeight,\r\n            cornerPoint: new Point(\r\n                this._worldWidth * this.scale.x - this.screenWidth,\r\n                this._worldHeight * this.scale.y - this.screenHeight\r\n            )\r\n        }\r\n    }\r\n\r\n    /**\r\n     * world coordinates of the right edge of the screen\r\n     * @type {number}\r\n     */\r\n    get right()\r\n    {\r\n        return -this.x / this.scale.x + this.worldScreenWidth\r\n    }\r\n    set right(value)\r\n    {\r\n        this.x = -value * this.scale.x + this.screenWidth;\r\n        this.plugins.reset();\r\n    }\r\n\r\n    /**\r\n     * world coordinates of the left edge of the screen\r\n     * @type { number }\r\n     */\r\n    get left()\r\n    {\r\n        return -this.x / this.scale.x\r\n    }\r\n    set left(value)\r\n    {\r\n        this.x = -value * this.scale.x;\r\n        this.plugins.reset();\r\n    }\r\n\r\n    /**\r\n     * world coordinates of the top edge of the screen\r\n     * @type {number}\r\n     */\r\n    get top()\r\n    {\r\n        return -this.y / this.scale.y\r\n    }\r\n    set top(value)\r\n    {\r\n        this.y = -value * this.scale.y;\r\n        this.plugins.reset();\r\n    }\r\n\r\n    /**\r\n     * world coordinates of the bottom edge of the screen\r\n     * @type {number}\r\n     */\r\n    get bottom()\r\n    {\r\n        return -this.y / this.scale.y + this.worldScreenHeight\r\n    }\r\n    set bottom(value)\r\n    {\r\n        this.y = -value * this.scale.y + this.screenHeight;\r\n        this.plugins.reset();\r\n    }\r\n\r\n    /**\r\n     * determines whether the viewport is dirty (i.e., needs to be renderered to the screen because of a change)\r\n     * @type {boolean}\r\n     */\r\n    get dirty()\r\n    {\r\n        return this._dirty\r\n    }\r\n    set dirty(value)\r\n    {\r\n        this._dirty = value;\r\n    }\r\n\r\n    /**\r\n     * permanently changes the Viewport's hitArea\r\n     * NOTE: if not set then hitArea = PIXI.Rectangle(Viewport.left, Viewport.top, Viewport.worldScreenWidth, Viewport.worldScreenHeight)\r\n     * @returns {HitArea}\r\n     */\r\n    get forceHitArea()\r\n    {\r\n        return this._forceHitArea\r\n    }\r\n    set forceHitArea(value)\r\n    {\r\n        if (value)\r\n        {\r\n            this._forceHitArea = value;\r\n            this.hitArea = value;\r\n        }\r\n        else\r\n        {\r\n            this._forceHitArea = null;\r\n            this.hitArea = new Rectangle(0, 0, this.worldWidth, this.worldHeight);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * enable one-finger touch to drag\r\n     * NOTE: if you expect users to use right-click dragging, you should enable viewport.options.disableOnContextMenu to avoid the context menu popping up on each right-click drag\r\n     * @param {DragOptions} [options]\r\n     * @returns {Viewport} this\r\n     */\r\n    drag(options)\r\n    {\r\n        this.plugins.add('drag', new Drag(this, options));\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * clamp to world boundaries or other provided boundaries\r\n     * NOTES:\r\n     *   clamp is disabled if called with no options; use { direction: 'all' } for all edge clamping\r\n     *   screenWidth, screenHeight, worldWidth, and worldHeight needs to be set for this to work properly\r\n     * @param {ClampOptions} [options]\r\n     * @returns {Viewport} this\r\n     */\r\n    clamp(options)\r\n    {\r\n        this.plugins.add('clamp', new Clamp(this, options));\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * decelerate after a move\r\n     * NOTE: this fires 'moved' event during deceleration\r\n     * @param {DecelerateOptions} [options]\r\n     * @return {Viewport} this\r\n     */\r\n    decelerate(options)\r\n    {\r\n        this.plugins.add('decelerate', new Decelerate(this, options));\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * bounce on borders\r\n     * NOTES:\r\n     *    screenWidth, screenHeight, worldWidth, and worldHeight needs to be set for this to work properly\r\n     *    fires 'moved', 'bounce-x-start', 'bounce-y-start', 'bounce-x-end', and 'bounce-y-end' events\r\n     * @param {object} [options]\r\n     * @param {string} [options.sides=all] all, horizontal, vertical, or combination of top, bottom, right, left (e.g., 'top-bottom-right')\r\n     * @param {number} [options.friction=0.5] friction to apply to decelerate if active\r\n     * @param {number} [options.time=150] time in ms to finish bounce\r\n     * @param {string|function} [options.ease=easeInOutSine] ease function or name (see http://easings.net/ for supported names)\r\n     * @param {string} [options.underflow=center] (top/bottom/center and left/right/center, or center) where to place world if too small for screen\r\n     * @return {Viewport} this\r\n     */\r\n    bounce(options)\r\n    {\r\n        this.plugins.add('bounce', new Bounce(this, options));\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * enable pinch to zoom and two-finger touch to drag\r\n     * @param {PinchOptions} [options]\r\n     * @return {Viewport} this\r\n     */\r\n    pinch(options)\r\n    {\r\n        this.plugins.add('pinch', new Pinch(this, options));\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * snap to a point\r\n     * @param {number} x\r\n     * @param {number} y\r\n     * @param {SnapOptions} [options]\r\n     * @return {Viewport} this\r\n     */\r\n    snap(x, y, options)\r\n    {\r\n        this.plugins.add('snap', new Snap(this, x, y, options));\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * follow a target\r\n     * NOTES:\r\n     *    uses the (x, y) as the center to follow; for PIXI.Sprite to work properly, use sprite.anchor.set(0.5)\r\n     *    options.acceleration is not perfect as it doesn't know the velocity of the target\r\n     *    it adds acceleration to the start of movement and deceleration to the end of movement when the target is stopped\r\n     *    fires 'moved' event\r\n     * @param {PIXI.DisplayObject} target to follow\r\n     * @param {FollowOptions} [options]\r\n     * @returns {Viewport} this\r\n     */\r\n    follow(target, options)\r\n    {\r\n        this.plugins.add('follow', new Follow(this, target, options));\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * zoom using mouse wheel\r\n     * @param {WheelOptions} [options]\r\n     * @return {Viewport} this\r\n     */\r\n    wheel(options)\r\n    {\r\n        this.plugins.add('wheel', new Wheel(this, options));\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * enable clamping of zoom to constraints\r\n     * @param {ClampZoomOptions} [options]\r\n     * @return {Viewport} this\r\n     */\r\n    clampZoom(options)\r\n    {\r\n        this.plugins.add('clamp-zoom', new ClampZoom(this, options));\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * Scroll viewport when mouse hovers near one of the edges or radius-distance from center of screen.\r\n     * NOTE: fires 'moved' event\r\n     * @param {MouseEdgesOptions} [options]\r\n     */\r\n    mouseEdges(options)\r\n    {\r\n        this.plugins.add('mouse-edges', new MouseEdges(this, options));\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * pause viewport (including animation updates such as decelerate)\r\n     * @type {boolean}\r\n     */\r\n    get pause()\r\n    {\r\n        return this._pause\r\n    }\r\n    set pause(value)\r\n    {\r\n        this._pause = value;\r\n        this.lastViewport = null;\r\n        this.moving = false;\r\n        this.zooming = false;\r\n        if (value)\r\n        {\r\n            this.input.pause();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * move the viewport so the bounding box is visible\r\n     * @param {number} x - left\r\n     * @param {number} y - top\r\n     * @param {number} width\r\n     * @param {number} height\r\n     */\r\n    ensureVisible(x, y, width, height)\r\n    {\r\n        if (x < this.left)\r\n        {\r\n            this.left = x;\r\n        }\r\n        else if (x + width > this.right)\r\n        {\r\n            this.right = x + width;\r\n        }\r\n        if (y < this.top)\r\n        {\r\n            this.top = y;\r\n        }\r\n        else if (y + height > this.bottom)\r\n        {\r\n            this.bottom = y + height;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * fires after a mouse or touch click\r\n * @event Viewport#clicked\r\n * @type {object}\r\n * @property {PIXI.Point} screen\r\n * @property {PIXI.Point} world\r\n * @property {Viewport} viewport\r\n */\r\n\r\n/**\r\n * fires when a drag starts\r\n * @event Viewport#drag-start\r\n * @type {object}\r\n * @property {PIXI.Point} screen\r\n * @property {PIXI.Point} world\r\n * @property {Viewport} viewport\r\n */\r\n\r\n/**\r\n * fires when a drag ends\r\n * @event Viewport#drag-end\r\n * @type {object}\r\n * @property {PIXI.Point} screen\r\n * @property {PIXI.Point} world\r\n * @property {Viewport} viewport\r\n */\r\n\r\n/**\r\n * fires when a pinch starts\r\n * @event Viewport#pinch-start\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when a pinch end\r\n * @event Viewport#pinch-end\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when a snap starts\r\n * @event Viewport#snap-start\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when a snap ends\r\n * @event Viewport#snap-end\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when a snap-zoom starts\r\n * @event Viewport#snap-zoom-start\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when a snap-zoom ends\r\n * @event Viewport#snap-zoom-end\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when a bounce starts in the x direction\r\n * @event Viewport#bounce-x-start\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when a bounce ends in the x direction\r\n * @event Viewport#bounce-x-end\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when a bounce starts in the y direction\r\n * @event Viewport#bounce-y-start\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when a bounce ends in the y direction\r\n * @event Viewport#bounce-y-end\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when for a mouse wheel event\r\n * @event Viewport#wheel\r\n * @type {object}\r\n * @property {object} wheel\r\n * @property {number} wheel.dx\r\n * @property {number} wheel.dy\r\n * @property {number} wheel.dz\r\n * @property {Viewport} viewport\r\n */\r\n\r\n/**\r\n * fires when a wheel-scroll occurs\r\n * @event Viewport#wheel-scroll\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when a mouse-edge starts to scroll\r\n * @event Viewport#mouse-edge-start\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when the mouse-edge scrolling ends\r\n * @event Viewport#mouse-edge-end\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when viewport moves through UI interaction, deceleration, or follow\r\n * @event Viewport#moved\r\n * @type {object}\r\n * @property {Viewport} viewport\r\n * @property {string} type (drag, snap, pinch, follow, bounce-x, bounce-y, clamp-x, clamp-y, decelerate, mouse-edges, wheel)\r\n */\r\n\r\n/**\r\n * fires when viewport moves through UI interaction, deceleration, or follow\r\n * @event Viewport#zoomed\r\n * @type {object}\r\n * @property {Viewport} viewport\r\n * @property {string} type (drag-zoom, pinch, wheel, clamp-zoom)\r\n */\r\n\r\n/**\r\n * fires when viewport stops moving\r\n * @event Viewport#moved-end\r\n * @type {Viewport}\r\n */\r\n\r\n/**\r\n * fires when viewport stops zooming\r\n * @event Viewport#zoomed-end\r\n * @type {Viewport}\r\n */\r\n\r\n /**\r\n * fires at the end of an update frame\r\n * @event Viewport#frame-end\r\n * @type {Viewport}\r\n */\r\n\r\n/** @typedef HitArea {(PIXI.Rectangle | PIXI.Circle | PIXI.Ellipse | PIXI.Polygon | PIXI.RoundedRectangle)} */\r\n\r\n/**\r\n * @typedef {Object} OutOfBounds\r\n * @private\r\n * @property {boolean} left\r\n * @property {boolean} right\r\n * @property {boolean} top\r\n * @property {boolean} bottom\r\n * @property {PIXI.Point} cornerPoint\r\n */\r\n\r\n/**\r\n * @typedef {Object} LastViewport\r\n * @private\r\n * @property {number} x\r\n * @property {number} y\r\n * @property {number} scaleX\r\n * @property {number} scaleY\r\n */\n\nexport { Plugin, Viewport };\n//# sourceMappingURL=viewport.es.js.map\n","import * as PIXI from 'pixi.js';\nimport { Container, VERSION, Graphics } from 'pixi.js';\nimport { Viewport } from 'pixi-viewport';\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar penner = createCommonjsModule(function (module, exports) {\n/*\n\tCopyright © 2001 Robert Penner\n\tAll rights reserved.\n\n\tRedistribution and use in source and binary forms, with or without modification, \n\tare permitted provided that the following conditions are met:\n\n\tRedistributions of source code must retain the above copyright notice, this list of \n\tconditions and the following disclaimer.\n\tRedistributions in binary form must reproduce the above copyright notice, this list \n\tof conditions and the following disclaimer in the documentation and/or other materials \n\tprovided with the distribution.\n\n\tNeither the name of the author nor the names of contributors may be used to endorse \n\tor promote products derived from this software without specific prior written permission.\n\n\tTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY \n\tEXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n\tMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n\tCOPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n\tEXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n\tGOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED \n\tAND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n\tNEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED \n\tOF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n(function() {\n  var penner, umd;\n\n  umd = function(factory) {\n    {\n      return module.exports = factory;\n    }\n  };\n\n  penner = {\n    linear: function(t, b, c, d) {\n      return c * t / d + b;\n    },\n    easeInQuad: function(t, b, c, d) {\n      return c * (t /= d) * t + b;\n    },\n    easeOutQuad: function(t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    },\n    easeInOutQuad: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * t * t + b;\n      } else {\n        return -c / 2 * ((--t) * (t - 2) - 1) + b;\n      }\n    },\n    easeInCubic: function(t, b, c, d) {\n      return c * (t /= d) * t * t + b;\n    },\n    easeOutCubic: function(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t + 1) + b;\n    },\n    easeInOutCubic: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * t * t * t + b;\n      } else {\n        return c / 2 * ((t -= 2) * t * t + 2) + b;\n      }\n    },\n    easeInQuart: function(t, b, c, d) {\n      return c * (t /= d) * t * t * t + b;\n    },\n    easeOutQuart: function(t, b, c, d) {\n      return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n    },\n    easeInOutQuart: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * t * t * t * t + b;\n      } else {\n        return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n      }\n    },\n    easeInQuint: function(t, b, c, d) {\n      return c * (t /= d) * t * t * t * t + b;\n    },\n    easeOutQuint: function(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    easeInOutQuint: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * t * t * t * t * t + b;\n      } else {\n        return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n      }\n    },\n    easeInSine: function(t, b, c, d) {\n      return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n    },\n    easeOutSine: function(t, b, c, d) {\n      return c * Math.sin(t / d * (Math.PI / 2)) + b;\n    },\n    easeInOutSine: function(t, b, c, d) {\n      return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n    },\n    easeInExpo: function(t, b, c, d) {\n      if (t === 0) {\n        return b;\n      } else {\n        return c * Math.pow(2, 10 * (t / d - 1)) + b;\n      }\n    },\n    easeOutExpo: function(t, b, c, d) {\n      if (t === d) {\n        return b + c;\n      } else {\n        return c * (-Math.pow(2, -10 * t / d) + 1) + b;\n      }\n    },\n    easeInOutExpo: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n      } else {\n        return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n      }\n    },\n    easeInCirc: function(t, b, c, d) {\n      return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n    },\n    easeOutCirc: function(t, b, c, d) {\n      return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n    },\n    easeInOutCirc: function(t, b, c, d) {\n      if ((t /= d / 2) < 1) {\n        return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n      } else {\n        return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n      }\n    },\n    easeInElastic: function(t, b, c, d) {\n      var a, p, s;\n      s = 1.70158;\n      p = 0;\n      a = c;\n      if (t === 0) ; else if ((t /= d) === 1) ;\n      if (!p) {\n        p = d * .3;\n      }\n      if (a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n      return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    },\n    easeOutElastic: function(t, b, c, d) {\n      var a, p, s;\n      s = 1.70158;\n      p = 0;\n      a = c;\n      if (t === 0) ; else if ((t /= d) === 1) ;\n      if (!p) {\n        p = d * .3;\n      }\n      if (a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n      return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n    },\n    easeInOutElastic: function(t, b, c, d) {\n      var a, p, s;\n      s = 1.70158;\n      p = 0;\n      a = c;\n      if (t === 0) ; else if ((t /= d / 2) === 2) ;\n      if (!p) {\n        p = d * (.3 * 1.5);\n      }\n      if (a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n      if (t < 1) {\n        return -.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n      } else {\n        return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n      }\n    },\n    easeInBack: function(t, b, c, d, s) {\n      if (s === void 0) {\n        s = 1.70158;\n      }\n      return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    easeOutBack: function(t, b, c, d, s) {\n      if (s === void 0) {\n        s = 1.70158;\n      }\n      return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    easeInOutBack: function(t, b, c, d, s) {\n      if (s === void 0) {\n        s = 1.70158;\n      }\n      if ((t /= d / 2) < 1) {\n        return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n      } else {\n        return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n      }\n    },\n    easeInBounce: function(t, b, c, d) {\n      var v;\n      v = penner.easeOutBounce(d - t, 0, c, d);\n      return c - v + b;\n    },\n    easeOutBounce: function(t, b, c, d) {\n      if ((t /= d) < 1 / 2.75) {\n        return c * (7.5625 * t * t) + b;\n      } else if (t < 2 / 2.75) {\n        return c * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + b;\n      } else if (t < 2.5 / 2.75) {\n        return c * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + b;\n      } else {\n        return c * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + b;\n      }\n    },\n    easeInOutBounce: function(t, b, c, d) {\n      var v;\n      if (t < d / 2) {\n        v = penner.easeInBounce(t * 2, 0, c, d);\n        return v * .5 + b;\n      } else {\n        v = penner.easeOutBounce(t * 2 - d, 0, c, d);\n        return v * .5 + c * .5 + b;\n      }\n    }\n  };\n\n  umd(penner);\n\n}).call(commonjsGlobal);\n});\n\nconst scrollboxOptions = {\n    'boxWidth': 100,\n    'boxHeight': 100,\n    'scrollbarSize': 10,\n    'scrollbarBackground': 14540253,\n    'scrollbarBackgroundAlpha': 1,\n    'scrollbarForeground': 8947848,\n    'scrollbarForegroundAlpha': 1,\n    'dragScroll': true,\n    'stopPropagation': true,\n    'scrollbarOffsetHorizontal': 0,\n    'scrollbarOffsetVertical': 0,\n    'underflow': 'top-left',\n    'fadeScrollbar': false,\n    'fadeScrollbarTime': 1000,\n    'fadeScrollboxWait': 3000,\n    'fadeScrollboxEase': 'easeInOutSine',\n    'passiveWheel': false,\n    'clampWheel': true\n};\n\n/**\n * pixi.js scrollbox: a masked content box that can scroll vertically or horizontally with scrollbars\n */\nclass Scrollbox extends Container\n{\n    /**\n     * create a scrollbox\n     * @param {object} options\n     * @param {boolean} [options.dragScroll=true] user may drag the content area to scroll content\n     * @param {string} [options.overflowX=auto] (none, scroll, hidden, auto) this changes whether the scrollbar is shown\n     * @param {string} [options.overflowY=auto] (none, scroll, hidden, auto) this changes whether the scrollbar is shown\n     * @param {string} [options.overflow] (none, scroll, hidden, auto) sets overflowX and overflowY to this value\n     * @param {number} [options.boxWidth=100] width of scrollbox including scrollbar (in pixels)\n     * @param {number} [options.boxHeight=100] height of scrollbox including scrollbar (in pixels)\n     * @param {number} [options.scrollbarSize=10] size of scrollbar (in pixels)\n     * @param {number} [options.scrollbarOffsetHorizontal=0] offset of horizontal scrollbar (in pixels)\n     * @param {number} [options.scrollbarOffsetVertical=0] offset of vertical scrollbar (in pixels)\n     * @param {boolean} [options.stopPropagation=true] call stopPropagation on any events that impact scrollbox\n     * @param {number} [options.scrollbarBackground=0xdddddd] background color of scrollbar\n     * @param {number} [options.scrollbarBackgroundAlpha=1] alpha of background of scrollbar\n     * @param {number} [options.scrollbarForeground=0x888888] foreground color of scrollbar\n     * @param {number} [options.scrollbarForegroundAlpha=1] alpha of foreground of scrollbar\n     * @param {string} [options.underflow=top-left] what to do when content underflows the scrollbox size: none: do nothing; (left/right/center AND top/bottom/center); OR center (e.g., 'top-left', 'center', 'none', 'bottomright')\n     * @param {boolean} [options.noTicker] do not use PIXI.Ticker (for fade to work properly you will need to manually call updateLoop(elapsed) on each frame)\n     * @param {PIXI.Ticker} [options.ticker=PIXI.Ticker.shared] use this PIXI.Ticker for updates\n     * @param {boolean} [options.fade] fade the scrollbar when not in use\n     * @param {number} [options.fadeScrollbarTime=1000] time to fade scrollbar if options.fade is set\n     * @param {number} [options.fadeScrollboxWait=3000] time to wait before fading the scrollbar if options.fade is set\n     * @param {(string|function)} [options.fadeScrollboxEase=easeInOutSine] easing function to use for fading\n     * @param {boolean} [options.passiveWheel=false] whether wheel events are propogated beyond the scrollbox (NOTE: default is now false)\n     * @param {boolean} [options.clampWheel=true] wheel events should be clamped (to avoid weird bounce with mouse wheel)\n     */\n    constructor(options={})\n    {\n        super();\n        this.options = Object.assign({}, scrollboxOptions, options);\n        this.ease = typeof this.options.fadeScrollboxEase === 'function' ? this.options.fadeScrollboxEase : penner[this.options.fadeScrollboxEase];\n\n        /**\n         * content in placed in here\n         * you can use any function from pixi-viewport on content to manually move the content (see https://davidfig.github.io/pixi-viewport/jsdoc/)\n         * @type {Viewport}\n         */\n        this.content = this.addChild(new Viewport({ passiveWheel: this.options.passiveWheel, stopPropagation: this.options.stopPropagation, screenWidth: this.options.boxWidth, screenHeight: this.options.boxHeight }));\n        this.content\n            .decelerate()\n            .on('moved', () => this._drawScrollbars());\n\n        // needed to pull this out of viewportOptions because of pixi.js v4 support (which changed from PIXI.ticker.shared to PIXI.Ticker.shared...sigh)\n        if (options.ticker)\n        {\n            this.options.ticker = options.ticker;\n        }\n        else\n        {\n            // to avoid Rollup transforming our import, save pixi namespace in a variable\n            // from here: https://github.com/pixijs/pixi.js/issues/5757\n            let ticker;\n            const pixiNS = PIXI;\n            if (parseInt(/^(\\d+)\\./.exec(VERSION)[1]) < 5)\n            {\n                ticker = pixiNS.ticker.shared;\n            }\n            else\n            {\n                ticker = pixiNS.Ticker.shared;\n            }\n            this.options.ticker = options.ticker || ticker;\n        }\n\n        /**\n         * graphics element for drawing the scrollbars\n         * @type {PIXI.Graphics}\n         */\n        this.scrollbar = this.addChild(new Graphics());\n        this.scrollbar.interactive = true;\n        this.scrollbar.on('pointerdown', this.scrollbarDown, this);\n        this.interactive = true;\n        this.on('pointermove', this.scrollbarMove, this);\n        this.on('pointerup', this.scrollbarUp, this);\n        this.on('pointercancel', this.scrollbarUp, this);\n        this.on('pointerupoutside', this.scrollbarUp, this);\n        this._maskContent = this.addChild(new Graphics());\n        this.update();\n\n        if (!this.options.noTicker)\n        {\n            this.tickerFunction = () => this.updateLoop(Math.min(this.options.ticker.elapsedMS, 16.6667));\n            this.options.ticker.add(this.tickerFunction);\n        }\n    }\n\n    /**\n     * offset of horizontal scrollbar (in pixels)\n     * @type {number}\n     */\n    get scrollbarOffsetHorizontal()\n    {\n        return this.options.scrollbarOffsetHorizontal\n    }\n    set scrollbarOffsetHorizontal(value)\n    {\n        this.options.scrollbarOffsetHorizontal = value;\n    }\n\n    /**\n     * offset of vertical scrollbar (in pixels)\n     * @type {number}\n     */\n    get scrollbarOffsetVertical()\n    {\n        return this.options.scrollbarOffsetVertical\n    }\n    set scrollbarOffsetVertical(value)\n    {\n        this.options.scrollbarOffsetVertical = value;\n    }\n\n    /**\n     * disable the scrollbox (if set to true this will also remove the mask)\n     * @type {boolean}\n     */\n    get disable()\n    {\n        return this._disabled\n    }\n    set disable(value)\n    {\n        if (this._disabled !== value)\n        {\n            this._disabled = value;\n            this.update();\n        }\n    }\n\n    /**\n     * call stopPropagation on any events that impact scrollbox\n     * @type {boolean}\n     */\n    get stopPropagation()\n    {\n        return this.options.stopPropagation\n    }\n    set stopPropagation(value)\n    {\n        this.options.stopPropagation = value;\n    }\n\n    /**\n     * user may drag the content area to scroll content\n     * @type {boolean}\n     */\n    get dragScroll()\n    {\n        return this.options.dragScroll\n    }\n    set dragScroll(value)\n    {\n        this.options.dragScroll = value;\n        if (value)\n        {\n            this.content.drag();\n        }\n        else\n        {\n            if (typeof this.content.removePlugin !== 'undefined')\n            {\n                this.content.removePlugin('drag');\n            }\n            else\n            {\n                this.content.plugins.remove('drag');\n            }\n        }\n        this.update();\n    }\n\n    /**\n     * width of scrollbox including the scrollbar (if visible)- this changes the size and not the scale of the box\n     * @type {number}\n     */\n    get boxWidth()\n    {\n        return this.options.boxWidth\n    }\n    set boxWidth(value)\n    {\n        this.options.boxWidth = value;\n        this.content.screenWidth = value;\n        this.update();\n    }\n\n    /**\n     * sets overflowX and overflowY to (scroll, hidden, auto) changing whether the scrollbar is shown\n     * scroll = always show scrollbar\n     * hidden = hide overflow and do not show scrollbar\n     * auto = if content is larger than box size, then show scrollbar\n     * @type {string}\n     */\n    get overflow()\n    {\n        return this.options.overflow\n    }\n    set overflow(value)\n    {\n        this.options.overflow = value;\n        this.options.overflowX = value;\n        this.options.overflowY = value;\n        this.update();\n    }\n\n    /**\n     * sets overflowX to (scroll, hidden, auto) changing whether the scrollbar is shown\n     * scroll = always show scrollbar\n     * hidden = hide overflow and do not show scrollbar\n     * auto = if content is larger than box size, then show scrollbar\n     * @type {string}\n     */\n    get overflowX()\n    {\n        return this.options.overflowX\n    }\n    set overflowX(value)\n    {\n        this.options.overflowX = value;\n        this.update();\n    }\n\n    /**\n     * sets overflowY to (scroll, hidden, auto) changing whether the scrollbar is shown\n     * scroll = always show scrollbar\n     * hidden = hide overflow and do not show scrollbar\n     * auto = if content is larger than box size, then show scrollbar\n     * @type {string}\n     */\n    get overflowY()\n    {\n        return this.options.overflowY\n    }\n    set overflowY(value)\n    {\n        this.options.overflowY = value;\n        this.update();\n    }\n\n    /**\n     * height of scrollbox including the scrollbar (if visible) - this changes the size and not the scale of the box\n     * @type {number}\n     */\n    get boxHeight()\n    {\n        return this.options.boxHeight\n    }\n    set boxHeight(value)\n    {\n        this.options.boxHeight = value;\n        this.content.screenHeight = value;\n        this.update();\n    }\n\n    /**\n     * scrollbar size in pixels\n     * @type {number}\n     */\n    get scrollbarSize()\n    {\n        return this.options.scrollbarSize\n    }\n    set scrollbarSize(value)\n    {\n        this.options.scrollbarSize = value;\n    }\n\n    /**\n     * width of scrollbox less the scrollbar (if visible)\n     * @type {number}\n     * @readonly\n     */\n    get contentWidth()\n    {\n        return this.options.boxWidth - (this.isScrollbarVertical ? this.options.scrollbarSize : 0)\n    }\n\n    /**\n     * height of scrollbox less the scrollbar (if visible)\n     * @type {number}\n     * @readonly\n     */\n    get contentHeight()\n    {\n        return this.options.boxHeight - (this.isScrollbarHorizontal ? this.options.scrollbarSize : 0)\n    }\n\n    /**\n     * is the vertical scrollbar visible\n     * @type {boolean}\n     * @readonly\n     */\n    get isScrollbarVertical()\n    {\n        return this._isScrollbarVertical\n    }\n\n    /**\n     * is the horizontal scrollbar visible\n     * @type {boolean}\n     * @readonly\n     */\n    get isScrollbarHorizontal()\n    {\n        return this._isScrollbarHorizontal\n    }\n\n    /**\n     * top coordinate of scrollbar\n     */\n    get scrollTop()\n    {\n        return this.content.top\n    }\n\n    /**\n     * left coordinate of scrollbar\n     */\n    get scrollLeft()\n    {\n        return this.content.left\n    }\n\n    /**\n     * width of content area\n     * if not set then it uses content.width to calculate width\n     */\n    get scrollWidth()\n    {\n        return this._scrollWidth || this.content.width\n    }\n    set scrollWidth(value)\n    {\n        this._scrollWidth = value;\n    }\n\n    /**\n     * height of content area\n     * if not set then it uses content.height to calculate height\n     */\n    get scrollHeight()\n    {\n        return this._scrollHeight || this.content.height\n    }\n    set scrollHeight(value)\n    {\n        this._scrollHeight = value;\n    }\n\n    /**\n     * draws scrollbars\n     * @private\n     */\n    _drawScrollbars()\n    {\n        this._isScrollbarHorizontal = this.overflowX === 'scroll' ? true : ['hidden', 'none'].indexOf(this.overflowX) !== -1 ? false : this.scrollWidth > this.options.boxWidth;\n        this._isScrollbarVertical = this.overflowY === 'scroll' ? true : ['hidden', 'none'].indexOf(this.overflowY) !== -1 ? false : this.scrollHeight > this.options.boxHeight;\n        this.scrollbar.clear();\n        let options = {};\n        options.left = 0;\n        options.right = this.scrollWidth + (this._isScrollbarVertical ? this.options.scrollbarSize : 0);\n        options.top = 0;\n        options.bottom = this.scrollHeight + (this.isScrollbarHorizontal ? this.options.scrollbarSize : 0);\n        const width = this.scrollWidth + (this.isScrollbarVertical ? this.options.scrollbarSize : 0);\n        const height = this.scrollHeight + (this.isScrollbarHorizontal ? this.options.scrollbarSize : 0);\n        this.scrollbarTop = (this.content.top / height) * this.boxHeight;\n        this.scrollbarTop = this.scrollbarTop < 0 ? 0 : this.scrollbarTop;\n        this.scrollbarHeight = (this.boxHeight / height) * this.boxHeight;\n        this.scrollbarHeight = this.scrollbarTop + this.scrollbarHeight > this.boxHeight ? this.boxHeight - this.scrollbarTop : this.scrollbarHeight;\n        this.scrollbarLeft = (this.content.left / width) * this.boxWidth;\n        this.scrollbarLeft = this.scrollbarLeft < 0 ? 0 : this.scrollbarLeft;\n        this.scrollbarWidth = (this.boxWidth / width) * this.boxWidth;\n        this.scrollbarWidth = this.scrollbarWidth + this.scrollbarLeft > this.boxWidth ? this.boxWidth - this.scrollbarLeft : this.scrollbarWidth;\n        if (this.isScrollbarVertical)\n        {\n            this.scrollbar\n                .beginFill(this.options.scrollbarBackground, this.options.scrollbarBackgroundAlpha)\n                .drawRect(this.boxWidth - this.scrollbarSize + this.options.scrollbarOffsetVertical, 0, this.scrollbarSize, this.boxHeight)\n                .endFill();\n        }\n        if (this.isScrollbarHorizontal)\n        {\n            this.scrollbar\n                .beginFill(this.options.scrollbarBackground, this.options.scrollbarBackgroundAlpha)\n                .drawRect(0, this.boxHeight - this.scrollbarSize + this.options.scrollbarOffsetHorizontal, this.boxWidth, this.scrollbarSize)\n                .endFill();\n        }\n        if (this.isScrollbarVertical)\n        {\n            this.scrollbar\n                .beginFill(this.options.scrollbarForeground, this.options.scrollbarForegroundAlpha)\n                .drawRect(this.boxWidth - this.scrollbarSize + this.options.scrollbarOffsetVertical, this.scrollbarTop, this.scrollbarSize, this.scrollbarHeight)\n                .endFill();\n        }\n        if (this.isScrollbarHorizontal)\n        {\n            this.scrollbar\n                .beginFill(this.options.scrollbarForeground, this.options.scrollbarForegroundAlpha)\n                .drawRect(this.scrollbarLeft, this.boxHeight - this.scrollbarSize + this.options.scrollbarOffsetHorizontal, this.scrollbarWidth, this.scrollbarSize)\n                .endFill();\n        }\n        // this.content.forceHitArea = new PIXI.Rectangle(0, 0 , this.boxWidth, this.boxHeight)\n        this.activateFade();\n    }\n\n    /**\n     * draws mask layer\n     * @private\n     */\n    _drawMask()\n    {\n        this._maskContent\n            .beginFill(0)\n            .drawRect(0, 0, this.boxWidth, this.boxHeight)\n            .endFill();\n        this.content.mask = this._maskContent;\n    }\n\n    /**\n     * call when scrollbox content changes\n     */\n    update()\n    {\n        this.content.mask = null;\n        this._maskContent.clear();\n        if (!this._disabled)\n        {\n            this._drawScrollbars();\n            this._drawMask();\n            if (this.options.dragScroll)\n            {\n                const direction = this.isScrollbarHorizontal && this.isScrollbarVertical ? 'all' : this.isScrollbarHorizontal ? 'x' : 'y';\n                if (direction !== null)\n                {\n                    this.content\n                        .drag({ clampWheel: this.options.clampWheel, direction })\n                        .clamp({ direction, underflow: this.options.underflow });\n                }\n            }\n        }\n    }\n\n    /**\n     * called on each frame to update fade scrollbars (if enabled)\n     * @param {number} elapsed since last frame in milliseconds (usually capped at 16.6667)\n     */\n    updateLoop(elapsed)\n    {\n        if (this.fade)\n        {\n            if (this.fade.wait > 0)\n            {\n                this.fade.wait -= elapsed;\n                if (this.fade.wait <= 0)\n                {\n                    elapsed += this.fade.wait;\n                }\n                else\n                {\n                    return\n                }\n            }\n            this.fade.duration += elapsed;\n            if (this.fade.duration >= this.options.fadeScrollbarTime)\n            {\n                this.fade = null;\n                this.scrollbar.alpha = 0;\n            }\n            else\n            {\n                this.scrollbar.alpha = this.ease(this.fade.duration, 1, -1, this.options.fadeScrollbarTime);\n            }\n            this.content.dirty = true;\n        }\n    }\n\n    /**\n     * dirty value (used for optimizing draws) for underlying viewport (scrollbox.content)\n     * @type {boolean}\n     */\n    get dirty()\n    {\n        return this.content.dirty\n    }\n    set dirty(value)\n    {\n        this.content.dirty = value;\n    }\n\n    /**\n     * show the scrollbar and restart the timer for fade if options.fade is set\n     */\n    activateFade()\n    {\n        if (!this.fade && this.options.fade)\n        {\n            this.scrollbar.alpha = 1;\n            this.fade = { wait: this.options.fadeScrollboxWait, duration: 0 };\n        }\n    }\n\n    /**\n     * handle pointer down on scrollbar\n     * @param {PIXI.interaction.InteractionEvent} e\n     * @private\n     */\n    scrollbarDown(e)\n    {\n        const local = this.toLocal(e.data.global);\n        if (this.isScrollbarHorizontal)\n        {\n            if (local.y > this.boxHeight - this.scrollbarSize)\n            {\n                if (local.x >= this.scrollbarLeft && local.x <= this.scrollbarLeft + this.scrollbarWidth)\n                {\n                    this.pointerDown = { type: 'horizontal', last: local };\n                }\n                else\n                {\n                    if (local.x > this.scrollbarLeft)\n                    {\n                        this.content.left += this.content.worldScreenWidth;\n                        this.update();\n                    }\n                    else\n                    {\n                        this.content.left -= this.content.worldScreenWidth;\n                        this.update();\n                    }\n                }\n                if (this.options.stopPropagation)\n                {\n                    e.stopPropagation();\n                }\n                return\n            }\n        }\n        if (this.isScrollbarVertical)\n        {\n            if (local.x > this.boxWidth - this.scrollbarSize)\n            {\n                if (local.y >= this.scrollbarTop && local.y <= this.scrollbarTop + this.scrollbarWidth)\n                {\n                    this.pointerDown = { type: 'vertical', last: local };\n                }\n                else\n                {\n                    if (local.y > this.scrollbarTop)\n                    {\n                        this.content.top += this.content.worldScreenHeight;\n                        this.update();\n                    }\n                    else\n                    {\n                        this.content.top -= this.content.worldScreenHeight;\n                        this.update();\n                    }\n                }\n                if (this.options.stopPropagation)\n                {\n                    e.stopPropagation();\n                }\n                return\n            }\n        }\n    }\n\n    /**\n     * handle pointer move on scrollbar\n     * @param {PIXI.interaction.InteractionEvent} e\n     * @private\n     */\n    scrollbarMove(e)\n    {\n        if (this.pointerDown)\n        {\n            if (this.pointerDown.type === 'horizontal')\n            {\n                const local = this.toLocal(e.data.global);\n                this.content.left += local.x - this.pointerDown.last.x;\n                this.pointerDown.last = local;\n                this.update();\n            }\n            else if (this.pointerDown.type === 'vertical')\n            {\n                const local = this.toLocal(e.data.global);\n                this.content.top += local.y - this.pointerDown.last.y;\n                this.pointerDown.last = local;\n                this.update();\n            }\n            if (this.options.stopPropagation)\n            {\n                e.stopPropagation();\n            }\n        }\n    }\n\n    /**\n     * handle pointer down on scrollbar\n     * @private\n     */\n    scrollbarUp()\n    {\n        this.pointerDown = null;\n    }\n\n    /**\n     * resize the mask for the container\n     * @param {object} options\n     * @param {number} [options.boxWidth] width of scrollbox including scrollbar (in pixels)\n     * @param {number} [options.boxHeight] height of scrollbox including scrollbar (in pixels)\n     * @param {number} [options.scrollWidth] set the width of the inside of the scrollbox (leave null to use content.width)\n     * @param {number} [options.scrollHeight] set the height of the inside of the scrollbox (leave null to use content.height)\n     */\n    resize(options)\n    {\n        this.options.boxWidth = typeof options.boxWidth !== 'undefined' ? options.boxWidth : this.options.boxWidth;\n        this.options.boxHeight = typeof options.boxHeight !== 'undefined' ? options.boxHeight : this.options.boxHeight;\n        if (options.scrollWidth)\n        {\n            this.scrollWidth = options.scrollWidth;\n        }\n        if (options.scrollHeight)\n        {\n            this.scrollHeight = options.scrollHeight;\n        }\n        this.content.resize(this.options.boxWidth, this.options.boxHeight, this.scrollWidth, this.scrollHeight);\n        this.update();\n    }\n\n    /**\n     * ensure that the bounding box is visible\n     * @param {number} x - relative to content's coordinate system\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     */\n    ensureVisible(x, y, width, height)\n    {\n        this.content.ensureVisible(x, y, width, height);\n        this._drawScrollbars();\n    }\n}\n\nexport { Scrollbox };\n//# sourceMappingURL=scrollbox.es.js.map\n","import { Graphics } from 'pixi.js'\nimport { Scrollbox } from 'pixi-scrollbox'\n\nexport default class List extends Graphics {\n    public box: typeof Scrollbox\n\n    constructor({\n        width,\n        height,\n        overflowX = 'hidden',\n        overflowY = 'auto',\n        cornerRadius = 0,\n        scrollbarSize = 5,\n        ...rest\n    }: LIST.ListOptions) {\n        super()\n\n        const mask = this.createGraphics(0, 0, width, height, cornerRadius)\n        this.mask = mask\n\n        this.box = new Scrollbox({\n            boxWidth: width,\n            boxHeight: height,\n            overflowX,\n            overflowY,\n            scrollbarSize,\n            ...rest,\n        })\n\n        this.beginFill(0xffffff, 0)\n        this.drawRect(0, 0, width, height)\n        this.endFill()\n\n        this.addChild(this.box)\n    }\n\n    private createGraphics(x: number, y: number, width: number, height: number, radius: number = 0, color: number = 0xffffff) {\n        const graphic = new Graphics()\n        graphic.beginFill(color)\n        graphic.drawRoundedRect(x, y, width, height, radius)\n        graphic.endFill()\n        return graphic\n    }\n\n    public push(item: any) {\n        this.box.content.addChild(item)\n    }\n}\n"],"names":["InputManager","constructor","viewport","touches","addListeners","interactive","forceHitArea","hitArea","Rectangle","worldWidth","worldHeight","on","down","move","up","wheelFunction","e","handleWheel","options","divWheel","addEventListener","passive","passiveWheel","isMouseDown","destroy","removeEventListener","event","pause","worldVisible","data","pointerType","get","pointerId","push","id","last","count","global","clone","decelerate","plugins","bounce","clickedAvailable","isActive","stop","stopPropagation","checkThreshold","change","Math","abs","threshold","distX","x","distY","y","remove","emit","screen","world","toWorld","getPointerPosition","point","Point","interaction","mapPositionToPoint","clientX","clientY","toLocal","left","right","top","bottom","wheel","preventDefault","touch","i","length","splice","PLUGIN_ORDER","PluginManager","list","add","name","plugin","index","current","indexOf","sort","update","elapsed","resize","reset","clamp","resume","result","Plugin","parent","paused","dragOptions","direction","wheelScroll","reverse","clampWheel","underflow","factor","mouseButtons","Drag","Object","assign","moved","xDirection","yDirection","parseUnderflow","buttons","mouse","toLowerCase","underflowX","underflowY","checkButtons","isMouse","input","button","active","newPoint","type","pointer","deltaX","deltaY","screenWorldWidth","screenWidth","scale","screenWorldHeight","screenHeight","pinchOptions","noDrag","percent","center","Pinch","sqrt","pow","pointers","first","second","oldPoint","dist","moveCenter","toGlobal","lastCenter","pinching","clampOptions","Clamp","noUnderflow","original","clampZoomOptions","minWidth","minHeight","maxWidth","maxHeight","ClampZoom","width","worldScreenWidth","height","worldScreenHeight","fitWidth","fitHeight","decelerateOptions","friction","minSpeed","Decelerate","saved","time","performance","now","save","percentChangeX","percentChangeY","activate","commonjsGlobal","globalThis","window","self","createCommonjsModule","fn","module","exports","penner","asin","sin","cos","PI","umd","factory","linear","t","b","c","d","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","a","p","s","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","v","easeOutBounce","easeInOutBounce","call","ease","defaults","bounceOptions","sides","Bounce","toX","toY","end","start","delta","calcUnderflowX","calcUnderflowY","oob","OOB","drag","pinch","cornerPoint","snapOptions","topLeft","interrupt","removeOnComplete","removeOnInterrupt","forceStart","Snap","snapStart","snapping","corner","startX","startY","finished","moveCorner","snapZoomOptions","removeOnInterrupts","noMove","SnapZoom","x_scale","y_scale","xIndependent","yIndependent","container","createSnapping","_screenWidth","_screenHeight","oldCenter","set","followOptions","speed","acceleration","radius","Follow","target","velocity","max","min","atan2","distance","angle","decelerationDistance","changeX","changeY","wheelOptions","smooth","Wheel","smoothing","smoothingCenter","smoothingCount","sign","step","deltaMode","dx","dy","dz","deltaZ","mouseEdgesOptions","noDecelerate","allowButtons","MouseEdges","radiusSquared","horizontal","vertical","round","identifier","toScreen","decelerateHorizontal","decelerateVertical","viewportOptions","innerWidth","innerHeight","noTicker","disableOnContextMenu","Viewport","Container","ticker","pixiNS","PIXI","parseInt","exec","VERSION","shared","Ticker","_worldWidth","_worldHeight","document","body","oncontextmenu","tickerFunction","elapsedMS","lastViewport","moving","scaleX","scaleY","zooming","_hitAreaDefault","_dirty","value","getVisibleBounds","arguments","isNaN","position","dirty","noClamp","clampZoom","fitWorld","fit","setZoom","zoomPercent","zoom","scaled","snapZoom","_forceHitArea","snap","follow","mouseEdges","_pause","ensureVisible","scrollboxOptions","Scrollbox","fadeScrollboxEase","content","addChild","boxWidth","boxHeight","_drawScrollbars","scrollbar","Graphics","scrollbarDown","scrollbarMove","scrollbarUp","_maskContent","updateLoop","scrollbarOffsetHorizontal","scrollbarOffsetVertical","disable","_disabled","dragScroll","removePlugin","overflow","overflowX","overflowY","scrollbarSize","contentWidth","isScrollbarVertical","contentHeight","isScrollbarHorizontal","_isScrollbarVertical","_isScrollbarHorizontal","scrollTop","scrollLeft","scrollWidth","_scrollWidth","scrollHeight","_scrollHeight","clear","scrollbarTop","scrollbarHeight","scrollbarLeft","scrollbarWidth","beginFill","scrollbarBackground","scrollbarBackgroundAlpha","drawRect","endFill","scrollbarForeground","scrollbarForegroundAlpha","activateFade","_drawMask","mask","fade","wait","duration","fadeScrollbarTime","alpha","fadeScrollboxWait","local","pointerDown","_a","_b","_c","_d","cornerRadius","_e","rest","_super","_this","createGraphics","box","__extends","List","color","graphic","drawRoundedRect","item"],"mappings":"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"}